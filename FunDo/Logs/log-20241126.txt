2024-11-26 14:11:58.358 +05:30 [INF] User profile is available. Using 'C:\Users\Shreesha_MS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-26 14:11:58.564 +05:30 [INF] Now listening on: https://localhost:5000
2024-11-26 14:11:58.565 +05:30 [INF] Now listening on: http://localhost:5001
2024-11-26 14:11:58.600 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-11-26 14:11:58.601 +05:30 [INF] Hosting environment: Development
2024-11-26 14:11:58.601 +05:30 [INF] Content root path: D:\FunDo\FunDo
2024-11-26 14:11:59.053 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/index.html - null null
2024-11-26 14:11:59.248 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/index.html - 200 null text/html;charset=utf-8 202.6283ms
2024-11-26 14:11:59.255 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/_vs/browserLink - null null
2024-11-26 14:11:59.259 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2024-11-26 14:11:59.270 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 10.8308ms
2024-11-26 14:11:59.320 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 65.7028ms
2024-11-26 14:11:59.348 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/v1/swagger.json - null null
2024-11-26 14:11:59.470 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 122.5422ms
2024-11-26 14:12:42.991 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:5000/api/user/login - application/json 76
2024-11-26 14:12:44.006 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25-11-2024 11:20:21', Current time (UTC): '26-11-2024 08:42:44'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-11-26 14:12:44.034 +05:30 [INF] Executing endpoint 'FunDo.Controllers.UserController.LoginUser (FunDooNotes)'
2024-11-26 14:12:44.065 +05:30 [INF] Route matched with {action = "LoginUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(Models.DTOs.LoginUserDto) on controller FunDo.Controllers.UserController (FunDooNotes).
2024-11-26 14:12:44.595 +05:30 [INF] Logging user shreesha2002ms@gmail.com
2024-11-26 14:12:44.597 +05:30 [INF] Checking if the user present
2024-11-26 14:12:44.599 +05:30 [INF] Attempting to retrieve user with Email: shreesha2002ms@gmail.com
2024-11-26 14:12:46.850 +05:30 [INF] Executed DbCommand (99ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2024-11-26 14:12:46.936 +05:30 [INF] User with Email: shreesha2002ms@gmail.com retrieved successfully.
2024-11-26 14:12:46.937 +05:30 [INF] Verifying the password
2024-11-26 14:12:47.398 +05:30 [INF] Password is valid and token is generated
2024-11-26 14:12:47.399 +05:30 [INF] Login successful
2024-11-26 14:12:47.408 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[Models.DTOs.LoginResponseDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-26 14:12:47.415 +05:30 [INF] Executed action FunDo.Controllers.UserController.LoginUser (FunDooNotes) in 3345.6246ms
2024-11-26 14:12:47.417 +05:30 [INF] Executed endpoint 'FunDo.Controllers.UserController.LoginUser (FunDooNotes)'
2024-11-26 14:12:47.485 +05:30 [ERR] An unhandled exception has occurred.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Mvc.ObjectResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at DataLayer.Exceptions.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\FunDo\DataLayer\Exceptions\GlobalExceptionHandlingMiddleware.cs:line 25
2024-11-26 14:12:47.578 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Headers are read-only, response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at DataLayer.Exceptions.GlobalExceptionHandlingMiddleware.HandleExceptionAsync(HttpContext context, Exception exception) in D:\FunDo\DataLayer\Exceptions\GlobalExceptionHandlingMiddleware.cs:line 36
   at DataLayer.Exceptions.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\FunDo\DataLayer\Exceptions\GlobalExceptionHandlingMiddleware.cs:line 29
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-26 14:12:47.583 +05:30 [WRN] The response has already started, the error page middleware will not be executed.
2024-11-26 14:12:47.587 +05:30 [ERR] Connection id "0HN8DUOOC19SD", Request id "0HN8DUOOC19SD:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: Headers are read-only, response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at DataLayer.Exceptions.GlobalExceptionHandlingMiddleware.HandleExceptionAsync(HttpContext context, Exception exception) in D:\FunDo\DataLayer\Exceptions\GlobalExceptionHandlingMiddleware.cs:line 36
   at DataLayer.Exceptions.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\FunDo\DataLayer\Exceptions\GlobalExceptionHandlingMiddleware.cs:line 29
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2024-11-26 14:12:47.625 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:5000/api/user/login - 401 null application/json 4633.2715ms
2024-11-26 14:13:10.108 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/user/login - application/json 76
2024-11-26 14:13:10.112 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25-11-2024 11:20:21', Current time (UTC): '26-11-2024 08:43:10'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-11-26 14:13:10.115 +05:30 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-11-26 14:13:10.116 +05:30 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-11-26 14:13:10.160 +05:30 [ERR] An unhandled exception has occurred.
System.InvalidOperationException: Headers are read-only, response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.Microsoft.AspNetCore.Http.IHeaderDictionary.set_Allow(StringValues value)
   at Microsoft.AspNetCore.Routing.Matching.HttpMethodMatcherPolicy.<>c__DisplayClass13_0.<CreateRejectionEndpoint>b__0(HttpContext context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at DataLayer.Exceptions.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\FunDo\DataLayer\Exceptions\GlobalExceptionHandlingMiddleware.cs:line 25
2024-11-26 14:13:10.194 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Headers are read-only, response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at DataLayer.Exceptions.GlobalExceptionHandlingMiddleware.HandleExceptionAsync(HttpContext context, Exception exception) in D:\FunDo\DataLayer\Exceptions\GlobalExceptionHandlingMiddleware.cs:line 36
   at DataLayer.Exceptions.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\FunDo\DataLayer\Exceptions\GlobalExceptionHandlingMiddleware.cs:line 29
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-26 14:13:10.197 +05:30 [WRN] The response has already started, the error page middleware will not be executed.
2024-11-26 14:13:10.197 +05:30 [ERR] Connection id "0HN8DUOOC19SF", Request id "0HN8DUOOC19SF:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: Headers are read-only, response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at DataLayer.Exceptions.GlobalExceptionHandlingMiddleware.HandleExceptionAsync(HttpContext context, Exception exception) in D:\FunDo\DataLayer\Exceptions\GlobalExceptionHandlingMiddleware.cs:line 36
   at DataLayer.Exceptions.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\FunDo\DataLayer\Exceptions\GlobalExceptionHandlingMiddleware.cs:line 29
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2024-11-26 14:13:10.200 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/user/login - 401 null application/json 92.7443ms
2024-11-26 14:13:30.484 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/user/login - application/json 76
2024-11-26 14:13:30.487 +05:30 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-11-26 14:13:30.488 +05:30 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-11-26 14:13:30.489 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/user/login - 405 0 null 5.2548ms
2024-11-26 14:13:39.277 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:5000/api/user/login - application/json 76
2024-11-26 14:13:39.281 +05:30 [INF] Executing endpoint 'FunDo.Controllers.UserController.LoginUser (FunDooNotes)'
2024-11-26 14:13:39.282 +05:30 [INF] Route matched with {action = "LoginUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(Models.DTOs.LoginUserDto) on controller FunDo.Controllers.UserController (FunDooNotes).
2024-11-26 14:13:39.286 +05:30 [INF] Logging user shreesha2002ms@gmail.com
2024-11-26 14:13:39.287 +05:30 [INF] Checking if the user present
2024-11-26 14:13:39.287 +05:30 [INF] Attempting to retrieve user with Email: shreesha2002ms@gmail.com
2024-11-26 14:13:39.308 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2024-11-26 14:13:39.310 +05:30 [INF] User with Email: shreesha2002ms@gmail.com retrieved successfully.
2024-11-26 14:13:39.310 +05:30 [INF] Verifying the password
2024-11-26 14:13:39.670 +05:30 [INF] Password is valid and token is generated
2024-11-26 14:13:39.671 +05:30 [INF] Login successful
2024-11-26 14:13:39.672 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[Models.DTOs.LoginResponseDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-26 14:13:39.678 +05:30 [INF] Executed action FunDo.Controllers.UserController.LoginUser (FunDooNotes) in 394.5957ms
2024-11-26 14:13:39.679 +05:30 [INF] Executed endpoint 'FunDo.Controllers.UserController.LoginUser (FunDooNotes)'
2024-11-26 14:13:39.681 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:5000/api/user/login - 200 null application/json; charset=utf-8 403.3976ms
2024-11-26 14:19:49.547 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/notes/ - null null
2024-11-26 14:19:49.563 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.GetAllNotes (FunDooNotes)'
2024-11-26 14:19:49.569 +05:30 [INF] Route matched with {action = "GetAllNotes", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllNotes() on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 14:19:49.573 +05:30 [INF] Attempt to get all notes from Database
2024-11-26 14:19:49.610 +05:30 [INF] Attempt to fetch notes from cache for user 1
2024-11-26 14:19:49.611 +05:30 [WRN] Failed to fetch notes from cache
2024-11-26 14:19:49.612 +05:30 [INF] Fetching all notes for user with ID: 1
2024-11-26 14:19:49.616 +05:30 [INF] Checking if user with ID: 1 exists
2024-11-26 14:19:49.708 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 14:19:49.712 +05:30 [INF] Fetching notes for user with ID: 1
2024-11-26 14:19:49.795 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Title], [n].[Description], [n].[Color], [n].[IsArchive], [n].[IsTrash], CASE
    WHEN [n].[UserId] = @__userId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsCreated]
FROM [Notes] AS [n]
WHERE [n].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [Collaborators] AS [c]
    WHERE [c].[UserId] = @__userId_0 AND [c].[NoteId] = [n].[Id])
2024-11-26 14:19:49.801 +05:30 [INF] 6 notes retrieved for user with ID: 1
2024-11-26 14:19:49.802 +05:30 [INF] Serializing notes to store it in cache
2024-11-26 14:19:49.811 +05:30 [INF] Notes retrieved successfully
2024-11-26 14:19:49.812 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Models.DTOs.NoteResponseDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 14:19:49.815 +05:30 [INF] Executed action FunDo.Controllers.NoteController.GetAllNotes (FunDooNotes) in 245.0585ms
2024-11-26 14:19:49.815 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.GetAllNotes (FunDooNotes)'
2024-11-26 14:19:49.817 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/notes/ - 200 null application/json; charset=utf-8 269.7427ms
2024-11-26 14:20:47.629 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/notes/ - null null
2024-11-26 14:20:47.634 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-26 14:20:47.637 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-26 14:20:47.638 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/notes/ - 401 null application/json 8.6944ms
2024-11-26 14:20:55.334 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/notes/ - null null
2024-11-26 14:20:55.337 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10517: Signature validation failed. The token's kid is missing. Keys tried: 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey, KeyId: '', InternalId: 'e78pBBQhxBid1HPtxU2c3BwQnbIwrX_a6BnPwzCg6hc'. , KeyId: 
'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-11-26 14:20:55.340 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-26 14:20:55.362 +05:30 [ERR] An unhandled exception has occurred.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at DataLayer.Exceptions.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\FunDo\DataLayer\Exceptions\GlobalExceptionHandlingMiddleware.cs:line 25
2024-11-26 14:20:55.395 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Headers are read-only, response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at DataLayer.Exceptions.GlobalExceptionHandlingMiddleware.HandleExceptionAsync(HttpContext context, Exception exception) in D:\FunDo\DataLayer\Exceptions\GlobalExceptionHandlingMiddleware.cs:line 36
   at DataLayer.Exceptions.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\FunDo\DataLayer\Exceptions\GlobalExceptionHandlingMiddleware.cs:line 29
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-26 14:20:55.397 +05:30 [WRN] The response has already started, the error page middleware will not be executed.
2024-11-26 14:20:55.398 +05:30 [ERR] Connection id "0HN8DUOOC19SJ", Request id "0HN8DUOOC19SJ:00000003": An unhandled exception was thrown by the application.
System.InvalidOperationException: Headers are read-only, response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at DataLayer.Exceptions.GlobalExceptionHandlingMiddleware.HandleExceptionAsync(HttpContext context, Exception exception) in D:\FunDo\DataLayer\Exceptions\GlobalExceptionHandlingMiddleware.cs:line 36
   at DataLayer.Exceptions.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\FunDo\DataLayer\Exceptions\GlobalExceptionHandlingMiddleware.cs:line 29
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2024-11-26 14:20:55.401 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/notes/ - 401 null application/json 67.7046ms
2024-11-26 14:21:02.031 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/notes/ - null null
2024-11-26 14:21:02.033 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.GetAllNotes (FunDooNotes)'
2024-11-26 14:21:02.034 +05:30 [INF] Route matched with {action = "GetAllNotes", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllNotes() on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 14:21:02.036 +05:30 [INF] Attempt to get all notes from Database
2024-11-26 14:21:02.039 +05:30 [INF] Attempt to fetch notes from cache for user 1
2024-11-26 14:21:02.039 +05:30 [INF] Fetched notes from cache successfully
2024-11-26 14:21:02.039 +05:30 [INF] Deserializing the notes
2024-11-26 14:21:02.042 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Models.DTOs.NoteResponseDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 14:21:02.043 +05:30 [INF] Executed action FunDo.Controllers.NoteController.GetAllNotes (FunDooNotes) in 8.4882ms
2024-11-26 14:21:02.044 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.GetAllNotes (FunDooNotes)'
2024-11-26 14:21:02.044 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/notes/ - 200 null application/json; charset=utf-8 12.9692ms
2024-11-26 14:23:41.964 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/notes/2 - null null
2024-11-26 14:23:41.966 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.GetNotesById (FunDooNotes)'
2024-11-26 14:23:41.973 +05:30 [INF] Route matched with {action = "GetNotesById", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNotesById(Int32) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 14:23:41.979 +05:30 [INF] Started retrieving notes by Id
2024-11-26 14:23:41.980 +05:30 [INF] Attempting to retrieve note with ID: 2 for user ID: 1
2024-11-26 14:23:41.982 +05:30 [INF] Checking if user with ID: 1 exists
2024-11-26 14:23:41.987 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 14:23:41.988 +05:30 [INF] Retrieving note with ID: 2
2024-11-26 14:23:42.005 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 14:23:42.033 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__noteId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Collaborators] AS [c]
        WHERE [c].[UserId] = @__userId_0 AND [c].[NoteId] = @__noteId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 14:23:42.038 +05:30 [WRN] User with ID: 1 does not have access to note ID: 2
2024-11-26 14:23:42.091 +05:30 [INF] Executed action FunDo.Controllers.NoteController.GetNotesById (FunDooNotes) in 117.2954ms
2024-11-26 14:23:42.092 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.GetNotesById (FunDooNotes)'
2024-11-26 14:23:42.137 +05:30 [ERR] An unhandled exception has occurred.
DataLayer.Exceptions.UserException: You don't have access to this note
   at DataLayer.Repositories.NoteDL.GetNoteByIdInDb(Int32 noteId, Int32 userId) in D:\FunDo\DataLayer\Repositories\NoteDL.cs:line 165
   at BusinessLayer.Services.NoteBL.GetNoteByIdAsync(Int32 noteId) in D:\FunDo\BusinessLayer\Services\NoteBL.cs:line 67
   at FunDo.Controllers.NoteController.GetNotesById(Int32 noteId) in D:\FunDo\FunDo\Controllers\NoteController.cs:line 79
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at DataLayer.Exceptions.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\FunDo\DataLayer\Exceptions\GlobalExceptionHandlingMiddleware.cs:line 25
2024-11-26 14:23:42.168 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/notes/2 - 400 null application/json 206.0538ms
2024-11-26 14:24:01.852 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/collaborators/2 - null null
2024-11-26 14:24:01.853 +05:30 [INF] Executing endpoint 'FunDo.Controllers.CollaboratorController.GetCollaborators (FunDooNotes)'
2024-11-26 14:24:01.859 +05:30 [INF] Route matched with {action = "GetCollaborators", controller = "Collaborator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCollaborators(Int32) on controller FunDo.Controllers.CollaboratorController (FunDooNotes).
2024-11-26 14:24:01.863 +05:30 [INF] Attempting to get collaborators for note with ID: 2
2024-11-26 14:24:01.865 +05:30 [INF] Attempting to retrieve collaborators for note with ID: 2 by user with ID: 1
2024-11-26 14:24:01.873 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ownerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__ownerId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 14:24:01.876 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 14:24:01.883 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__ownerId_0='?' (DbType = Int32), @__NoteId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Collaborators] AS [c]
        WHERE [c].[UserId] = @__ownerId_0 AND [c].[NoteId] = @__NoteId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 14:24:01.936 +05:30 [INF] Executed action FunDo.Controllers.CollaboratorController.GetCollaborators (FunDooNotes) in 75.0984ms
2024-11-26 14:24:01.937 +05:30 [INF] Executed endpoint 'FunDo.Controllers.CollaboratorController.GetCollaborators (FunDooNotes)'
2024-11-26 14:24:01.969 +05:30 [ERR] An unhandled exception has occurred.
DataLayer.Exceptions.UserException: You do not have access to  get the Collaborators
   at DataLayer.Repositories.CollaboratorDL.GetCollaborators(Int32 NoteId, Int32 ownerId) in D:\FunDo\DataLayer\Repositories\CollaboratorDL.cs:line 215
   at BusinessLayer.Services.CollaboratorBL.GetCollaboratorsAsync(Int32 NoteId) in D:\FunDo\BusinessLayer\Services\CollaboratorBL.cs:line 64
   at FunDo.Controllers.CollaboratorController.GetCollaborators(Int32 NoteId) in D:\FunDo\FunDo\Controllers\CollaboratorController.cs:line 58
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at DataLayer.Exceptions.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\FunDo\DataLayer\Exceptions\GlobalExceptionHandlingMiddleware.cs:line 25
2024-11-26 14:24:01.974 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/collaborators/2 - 400 null application/json 122.3582ms
2024-11-26 14:24:09.416 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/collaborators/1 - null null
2024-11-26 14:24:09.418 +05:30 [INF] Executing endpoint 'FunDo.Controllers.CollaboratorController.GetCollaborators (FunDooNotes)'
2024-11-26 14:24:09.419 +05:30 [INF] Route matched with {action = "GetCollaborators", controller = "Collaborator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCollaborators(Int32) on controller FunDo.Controllers.CollaboratorController (FunDooNotes).
2024-11-26 14:24:09.420 +05:30 [INF] Attempting to get collaborators for note with ID: 1
2024-11-26 14:24:09.421 +05:30 [INF] Attempting to retrieve collaborators for note with ID: 1 by user with ID: 1
2024-11-26 14:24:09.424 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ownerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__ownerId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 14:24:09.426 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 14:24:09.458 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__NoteId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[Name]
FROM [Collaborators] AS [c]
INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
WHERE [c].[NoteId] = @__NoteId_0
2024-11-26 14:24:09.460 +05:30 [INF] Successfully retrieved collaborators for note with ID: 1
2024-11-26 14:24:09.461 +05:30 [INF] Successfully retrieved collaborators for note with ID: 1
2024-11-26 14:24:09.461 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Models.DTOs.UserDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 14:24:09.463 +05:30 [INF] Executed action FunDo.Controllers.CollaboratorController.GetCollaborators (FunDooNotes) in 43.3162ms
2024-11-26 14:24:09.464 +05:30 [INF] Executed endpoint 'FunDo.Controllers.CollaboratorController.GetCollaborators (FunDooNotes)'
2024-11-26 14:24:09.464 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/collaborators/1 - 200 null application/json; charset=utf-8 48.5576ms
2024-11-26 14:24:14.862 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/collaborators/5 - null null
2024-11-26 14:24:14.865 +05:30 [INF] Executing endpoint 'FunDo.Controllers.CollaboratorController.GetCollaborators (FunDooNotes)'
2024-11-26 14:24:14.866 +05:30 [INF] Route matched with {action = "GetCollaborators", controller = "Collaborator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCollaborators(Int32) on controller FunDo.Controllers.CollaboratorController (FunDooNotes).
2024-11-26 14:24:14.868 +05:30 [INF] Attempting to get collaborators for note with ID: 5
2024-11-26 14:24:14.869 +05:30 [INF] Attempting to retrieve collaborators for note with ID: 5 by user with ID: 1
2024-11-26 14:24:14.871 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ownerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__ownerId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 14:24:14.873 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 14:24:14.876 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__ownerId_0='?' (DbType = Int32), @__NoteId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Collaborators] AS [c]
        WHERE [c].[UserId] = @__ownerId_0 AND [c].[NoteId] = @__NoteId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 14:24:14.879 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__NoteId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[Name]
FROM [Collaborators] AS [c]
INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
WHERE [c].[NoteId] = @__NoteId_0
2024-11-26 14:24:14.882 +05:30 [INF] Successfully retrieved collaborators for note with ID: 5
2024-11-26 14:24:14.882 +05:30 [INF] Successfully retrieved collaborators for note with ID: 5
2024-11-26 14:24:14.883 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Models.DTOs.UserDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 14:24:14.884 +05:30 [INF] Executed action FunDo.Controllers.CollaboratorController.GetCollaborators (FunDooNotes) in 17.6245ms
2024-11-26 14:24:14.885 +05:30 [INF] Executed endpoint 'FunDo.Controllers.CollaboratorController.GetCollaborators (FunDooNotes)'
2024-11-26 14:24:14.886 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/collaborators/5 - 200 null application/json; charset=utf-8 23.447ms
2024-11-26 14:24:24.592 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/collaborators/9 - null null
2024-11-26 14:24:24.594 +05:30 [INF] Executing endpoint 'FunDo.Controllers.CollaboratorController.GetCollaborators (FunDooNotes)'
2024-11-26 14:24:24.595 +05:30 [INF] Route matched with {action = "GetCollaborators", controller = "Collaborator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCollaborators(Int32) on controller FunDo.Controllers.CollaboratorController (FunDooNotes).
2024-11-26 14:24:24.596 +05:30 [INF] Attempting to get collaborators for note with ID: 9
2024-11-26 14:24:24.597 +05:30 [INF] Attempting to retrieve collaborators for note with ID: 9 by user with ID: 1
2024-11-26 14:24:24.600 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__ownerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__ownerId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 14:24:24.602 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 14:24:24.604 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__NoteId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[Name]
FROM [Collaborators] AS [c]
INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
WHERE [c].[NoteId] = @__NoteId_0
2024-11-26 14:24:24.606 +05:30 [INF] Successfully retrieved collaborators for note with ID: 9
2024-11-26 14:24:24.606 +05:30 [INF] Successfully retrieved collaborators for note with ID: 9
2024-11-26 14:24:24.607 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Models.DTOs.UserDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 14:24:24.608 +05:30 [INF] Executed action FunDo.Controllers.CollaboratorController.GetCollaborators (FunDooNotes) in 11.5503ms
2024-11-26 14:24:24.608 +05:30 [INF] Executed endpoint 'FunDo.Controllers.CollaboratorController.GetCollaborators (FunDooNotes)'
2024-11-26 14:24:24.609 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/collaborators/9 - 200 null application/json; charset=utf-8 17.4854ms
2024-11-26 14:25:18.114 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/collaborators/5 - null null
2024-11-26 14:25:18.116 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-26 14:25:18.117 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-26 14:25:18.118 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/collaborators/5 - 401 null application/json 3.8564ms
2024-11-26 14:25:35.740 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/collaborators/5 - null null
2024-11-26 14:25:35.742 +05:30 [INF] Executing endpoint 'FunDo.Controllers.CollaboratorController.GetCollaborators (FunDooNotes)'
2024-11-26 14:25:35.742 +05:30 [INF] Route matched with {action = "GetCollaborators", controller = "Collaborator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCollaborators(Int32) on controller FunDo.Controllers.CollaboratorController (FunDooNotes).
2024-11-26 14:25:35.744 +05:30 [INF] Attempting to get collaborators for note with ID: 5
2024-11-26 14:25:35.744 +05:30 [INF] Attempting to retrieve collaborators for note with ID: 5 by user with ID: 1
2024-11-26 14:25:35.748 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__ownerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__ownerId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 14:25:35.751 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 14:25:35.756 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ownerId_0='?' (DbType = Int32), @__NoteId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Collaborators] AS [c]
        WHERE [c].[UserId] = @__ownerId_0 AND [c].[NoteId] = @__NoteId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 14:25:35.759 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__NoteId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[Name]
FROM [Collaborators] AS [c]
INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
WHERE [c].[NoteId] = @__NoteId_0
2024-11-26 14:25:35.760 +05:30 [INF] Successfully retrieved collaborators for note with ID: 5
2024-11-26 14:25:35.761 +05:30 [INF] Successfully retrieved collaborators for note with ID: 5
2024-11-26 14:25:35.761 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Models.DTOs.UserDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 14:25:35.762 +05:30 [INF] Executed action FunDo.Controllers.CollaboratorController.GetCollaborators (FunDooNotes) in 18.7802ms
2024-11-26 14:25:35.763 +05:30 [INF] Executed endpoint 'FunDo.Controllers.CollaboratorController.GetCollaborators (FunDooNotes)'
2024-11-26 14:25:35.764 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/collaborators/5 - 200 null application/json; charset=utf-8 23.4552ms
2024-11-26 14:27:30.908 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:5000/api/user/forgot-password - application/json 44
2024-11-26 14:27:30.910 +05:30 [INF] Executing endpoint 'FunDo.Controllers.UserController.ForgotPassword (FunDooNotes)'
2024-11-26 14:27:30.914 +05:30 [INF] Route matched with {action = "ForgotPassword", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(Models.DTOs.ForgotPasswordDto) on controller FunDo.Controllers.UserController (FunDooNotes).
2024-11-26 14:27:30.919 +05:30 [INF] Forgot password started by shreesha2002ms@gmail.com
2024-11-26 14:27:30.922 +05:30 [INF] Checking if the user present
2024-11-26 14:27:30.922 +05:30 [INF] Attempting to retrieve user with Email: shreesha2002ms@gmail.com
2024-11-26 14:27:30.927 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2024-11-26 14:27:30.928 +05:30 [INF] User with Email: shreesha2002ms@gmail.com retrieved successfully.
2024-11-26 14:27:30.929 +05:30 [INF] Reset email sent to shreesha2002ms@gmail.com
2024-11-26 14:27:31.219 +05:30 [INF] Attempt to create email
2024-11-26 14:27:31.276 +05:30 [INF] Connecting to smtp server
2024-11-26 14:27:32.742 +05:30 [INF] Authenticatingwith smtp server
2024-11-26 14:27:33.091 +05:30 [INF] Sending mail
2024-11-26 14:27:34.283 +05:30 [INF] Sent email to shreesha2002ms@gmail.com successfully
2024-11-26 14:27:34.284 +05:30 [INF] Disconnecting from smtp server
2024-11-26 14:27:34.494 +05:30 [INF] A link has been sent to mail if the user is registered 
2024-11-26 14:27:34.496 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 14:27:34.498 +05:30 [INF] Executed action FunDo.Controllers.UserController.ForgotPassword (FunDooNotes) in 3583.784ms
2024-11-26 14:27:34.499 +05:30 [INF] Executed endpoint 'FunDo.Controllers.UserController.ForgotPassword (FunDooNotes)'
2024-11-26 14:27:34.500 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:5000/api/user/forgot-password - 200 null application/json; charset=utf-8 3594.2129ms
2024-11-26 14:32:52.078 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:5000/api/user/login - application/json 76
2024-11-26 14:32:52.080 +05:30 [INF] Executing endpoint 'FunDo.Controllers.UserController.LoginUser (FunDooNotes)'
2024-11-26 14:32:52.081 +05:30 [INF] Route matched with {action = "LoginUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(Models.DTOs.LoginUserDto) on controller FunDo.Controllers.UserController (FunDooNotes).
2024-11-26 14:32:52.083 +05:30 [INF] Logging user shreesha2002ms@gmail.com
2024-11-26 14:32:52.083 +05:30 [INF] Checking if the user present
2024-11-26 14:32:52.084 +05:30 [INF] Attempting to retrieve user with Email: shreesha2002ms@gmail.com
2024-11-26 14:32:52.089 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2024-11-26 14:32:52.090 +05:30 [INF] User with Email: shreesha2002ms@gmail.com retrieved successfully.
2024-11-26 14:32:52.091 +05:30 [INF] Verifying the password
2024-11-26 14:32:52.287 +05:30 [INF] Password is valid and token is generated
2024-11-26 14:32:52.289 +05:30 [INF] Login successful
2024-11-26 14:32:52.289 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[Models.DTOs.LoginResponseDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-26 14:32:52.290 +05:30 [INF] Executed action FunDo.Controllers.UserController.LoginUser (FunDooNotes) in 207.6097ms
2024-11-26 14:32:52.290 +05:30 [INF] Executed endpoint 'FunDo.Controllers.UserController.LoginUser (FunDooNotes)'
2024-11-26 14:32:52.291 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:5000/api/user/login - 200 null application/json; charset=utf-8 212.9859ms
2024-11-26 14:36:16.422 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:5000/api/user/register - application/json 145
2024-11-26 14:36:16.425 +05:30 [INF] Executing endpoint 'FunDo.Controllers.UserController.RegisterUser (FunDooNotes)'
2024-11-26 14:36:16.429 +05:30 [INF] Route matched with {action = "RegisterUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(Models.DTOs.RegisterUserDto) on controller FunDo.Controllers.UserController (FunDooNotes).
2024-11-26 14:36:16.437 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-26 14:36:16.452 +05:30 [INF] Executed action FunDo.Controllers.UserController.RegisterUser (FunDooNotes) in 21.5853ms
2024-11-26 14:36:16.452 +05:30 [INF] Executed endpoint 'FunDo.Controllers.UserController.RegisterUser (FunDooNotes)'
2024-11-26 14:36:16.453 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:5000/api/user/register - 400 null application/problem+json; charset=utf-8 31.8888ms
2024-11-26 14:36:29.627 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:5000/api/user/register - application/json 144
2024-11-26 14:36:29.629 +05:30 [INF] Executing endpoint 'FunDo.Controllers.UserController.RegisterUser (FunDooNotes)'
2024-11-26 14:36:29.629 +05:30 [INF] Route matched with {action = "RegisterUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(Models.DTOs.RegisterUserDto) on controller FunDo.Controllers.UserController (FunDooNotes).
2024-11-26 14:36:29.633 +05:30 [INF] User registration attempt started
2024-11-26 14:36:29.634 +05:30 [INF] Checking if the user present
2024-11-26 14:36:29.635 +05:30 [INF] Attempting to retrieve user with Email: Joey@gmail.com
2024-11-26 14:36:29.639 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2024-11-26 14:36:29.641 +05:30 [WRN] User with Email: Joey@gmail.com not found.
2024-11-26 14:36:29.642 +05:30 [INF] Hashing the password
2024-11-26 14:36:29.834 +05:30 [INF] Attempting to add a new user with Email: Joey@gmail.com
2024-11-26 14:36:29.979 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Email], [Name], [Password], [Phone])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-11-26 14:36:30.003 +05:30 [INF] User with Email: Joey@gmail.com successfully registered.
2024-11-26 14:36:30.004 +05:30 [INF] Registration successful
2024-11-26 14:36:30.005 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 14:36:30.006 +05:30 [INF] Executed action FunDo.Controllers.UserController.RegisterUser (FunDooNotes) in 375.8716ms
2024-11-26 14:36:30.006 +05:30 [INF] Executed endpoint 'FunDo.Controllers.UserController.RegisterUser (FunDooNotes)'
2024-11-26 14:36:30.007 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:5000/api/user/register - 200 null application/json; charset=utf-8 379.5387ms
2024-11-26 14:37:27.291 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:5000/api/user/forgot-password - application/json 44
2024-11-26 14:37:27.338 +05:30 [INF] Executing endpoint 'FunDo.Controllers.UserController.ForgotPassword (FunDooNotes)'
2024-11-26 14:37:27.339 +05:30 [INF] Route matched with {action = "ForgotPassword", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(Models.DTOs.ForgotPasswordDto) on controller FunDo.Controllers.UserController (FunDooNotes).
2024-11-26 14:37:27.341 +05:30 [INF] Forgot password started by shreesha2002ms@gmail.com
2024-11-26 14:37:27.342 +05:30 [INF] Checking if the user present
2024-11-26 14:37:27.343 +05:30 [INF] Attempting to retrieve user with Email: shreesha2002ms@gmail.com
2024-11-26 14:37:27.347 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2024-11-26 14:37:27.348 +05:30 [INF] User with Email: shreesha2002ms@gmail.com retrieved successfully.
2024-11-26 14:37:27.349 +05:30 [INF] Reset email sent to shreesha2002ms@gmail.com
2024-11-26 14:37:27.350 +05:30 [INF] Attempt to create email
2024-11-26 14:37:27.350 +05:30 [INF] Connecting to smtp server
2024-11-26 14:37:28.316 +05:30 [INF] Authenticatingwith smtp server
2024-11-26 14:37:28.652 +05:30 [INF] Sending mail
2024-11-26 14:37:29.818 +05:30 [INF] Sent email to shreesha2002ms@gmail.com successfully
2024-11-26 14:37:29.820 +05:30 [INF] Disconnecting from smtp server
2024-11-26 14:37:30.029 +05:30 [INF] A link has been sent to mail if the user is registered 
2024-11-26 14:37:30.032 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 14:37:30.032 +05:30 [INF] Executed action FunDo.Controllers.UserController.ForgotPassword (FunDooNotes) in 2692.3469ms
2024-11-26 14:37:30.034 +05:30 [INF] Executed endpoint 'FunDo.Controllers.UserController.ForgotPassword (FunDooNotes)'
2024-11-26 14:37:30.035 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:5000/api/user/forgot-password - 200 null application/json; charset=utf-8 2743.176ms
2024-11-26 14:37:47.429 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:5000/api/user/forgot-password - application/json 44
2024-11-26 14:37:47.431 +05:30 [INF] Executing endpoint 'FunDo.Controllers.UserController.ForgotPassword (FunDooNotes)'
2024-11-26 14:37:47.432 +05:30 [INF] Route matched with {action = "ForgotPassword", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(Models.DTOs.ForgotPasswordDto) on controller FunDo.Controllers.UserController (FunDooNotes).
2024-11-26 14:37:47.433 +05:30 [INF] Forgot password started by shreesha2002ms@gmail.com
2024-11-26 14:37:47.434 +05:30 [INF] Checking if the user present
2024-11-26 14:37:47.434 +05:30 [INF] Attempting to retrieve user with Email: shreesha2002ms@gmail.com
2024-11-26 14:37:47.437 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2024-11-26 14:37:47.439 +05:30 [INF] User with Email: shreesha2002ms@gmail.com retrieved successfully.
2024-11-26 14:37:47.441 +05:30 [INF] Reset email sent to shreesha2002ms@gmail.com
2024-11-26 14:37:47.441 +05:30 [INF] Attempt to create email
2024-11-26 14:37:47.442 +05:30 [INF] Connecting to smtp server
2024-11-26 14:37:48.409 +05:30 [INF] Authenticatingwith smtp server
2024-11-26 14:37:48.719 +05:30 [INF] Sending mail
2024-11-26 14:37:49.819 +05:30 [INF] Sent email to shreesha2002ms@gmail.com successfully
2024-11-26 14:37:49.821 +05:30 [INF] Disconnecting from smtp server
2024-11-26 14:37:50.020 +05:30 [INF] A link has been sent to mail if the user is registered 
2024-11-26 14:37:50.022 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 14:37:50.023 +05:30 [INF] Executed action FunDo.Controllers.UserController.ForgotPassword (FunDooNotes) in 2590.6867ms
2024-11-26 14:37:50.024 +05:30 [INF] Executed endpoint 'FunDo.Controllers.UserController.ForgotPassword (FunDooNotes)'
2024-11-26 14:37:50.025 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:5000/api/user/forgot-password - 200 null application/json; charset=utf-8 2595.266ms
2024-11-26 14:38:11.770 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:5000/api/user/forgot-password - application/json 44
2024-11-26 14:38:11.773 +05:30 [INF] Executing endpoint 'FunDo.Controllers.UserController.ForgotPassword (FunDooNotes)'
2024-11-26 14:38:11.773 +05:30 [INF] Route matched with {action = "ForgotPassword", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(Models.DTOs.ForgotPasswordDto) on controller FunDo.Controllers.UserController (FunDooNotes).
2024-11-26 14:38:11.774 +05:30 [INF] Forgot password started by shreesha2002ms@gmail.com
2024-11-26 14:38:11.774 +05:30 [INF] Checking if the user present
2024-11-26 14:38:11.775 +05:30 [INF] Attempting to retrieve user with Email: shreesha2002ms@gmail.com
2024-11-26 14:38:11.777 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2024-11-26 14:38:11.783 +05:30 [INF] User with Email: shreesha2002ms@gmail.com retrieved successfully.
2024-11-26 14:38:11.783 +05:30 [INF] Reset email sent to shreesha2002ms@gmail.com
2024-11-26 14:38:11.784 +05:30 [INF] Attempt to create email
2024-11-26 14:38:11.784 +05:30 [INF] Connecting to smtp server
2024-11-26 14:38:12.735 +05:30 [INF] Authenticatingwith smtp server
2024-11-26 14:38:13.050 +05:30 [INF] Sending mail
2024-11-26 14:38:14.246 +05:30 [INF] Sent email to shreesha2002ms@gmail.com successfully
2024-11-26 14:38:14.247 +05:30 [INF] Disconnecting from smtp server
2024-11-26 14:38:14.454 +05:30 [INF] A link has been sent to mail if the user is registered 
2024-11-26 14:38:14.456 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 14:38:14.457 +05:30 [INF] Executed action FunDo.Controllers.UserController.ForgotPassword (FunDooNotes) in 2682.9447ms
2024-11-26 14:38:14.457 +05:30 [INF] Executed endpoint 'FunDo.Controllers.UserController.ForgotPassword (FunDooNotes)'
2024-11-26 14:38:14.458 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:5000/api/user/forgot-password - 200 null application/json; charset=utf-8 2687.5701ms
2024-11-26 14:39:20.379 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:5000/api/user/reset-password - application/json 432
2024-11-26 14:39:20.384 +05:30 [INF] Executing endpoint 'FunDo.Controllers.UserController.ResetPassword (FunDooNotes)'
2024-11-26 14:39:20.388 +05:30 [INF] Route matched with {action = "ResetPassword", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(Models.DTOs.ResetPasswordDto) on controller FunDo.Controllers.UserController (FunDooNotes).
2024-11-26 14:39:20.391 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-26 14:39:20.391 +05:30 [INF] Executed action FunDo.Controllers.UserController.ResetPassword (FunDooNotes) in 2.5368ms
2024-11-26 14:39:20.392 +05:30 [INF] Executed endpoint 'FunDo.Controllers.UserController.ResetPassword (FunDooNotes)'
2024-11-26 14:39:20.393 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:5000/api/user/reset-password - 400 null application/problem+json; charset=utf-8 13.1404ms
2024-11-26 14:39:52.151 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:5000/api/user/reset-password - application/json 503
2024-11-26 14:39:52.156 +05:30 [INF] Executing endpoint 'FunDo.Controllers.UserController.ResetPassword (FunDooNotes)'
2024-11-26 14:39:52.156 +05:30 [INF] Route matched with {action = "ResetPassword", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(Models.DTOs.ResetPasswordDto) on controller FunDo.Controllers.UserController (FunDooNotes).
2024-11-26 14:39:52.159 +05:30 [INF] Reset password started
2024-11-26 14:39:52.175 +05:30 [INF] Attempting to retrieve user with ID: 1
2024-11-26 14:39:52.183 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2024-11-26 14:39:52.184 +05:30 [INF] User with ID: 1 retrieved successfully.
2024-11-26 14:39:52.381 +05:30 [INF] Attempting to update user with ID: 1
2024-11-26 14:39:52.393 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [Email] = @p0, [Name] = @p1, [Password] = @p2, [Phone] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2024-11-26 14:39:52.396 +05:30 [INF] User with ID: 1 successfully updated.
2024-11-26 14:39:52.396 +05:30 [INF] Password reset successful
2024-11-26 14:39:52.397 +05:30 [INF] Reset password successful
2024-11-26 14:39:52.398 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 14:39:52.399 +05:30 [INF] Executed action FunDo.Controllers.UserController.ResetPassword (FunDooNotes) in 241.4118ms
2024-11-26 14:39:52.399 +05:30 [INF] Executed endpoint 'FunDo.Controllers.UserController.ResetPassword (FunDooNotes)'
2024-11-26 14:39:52.400 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:5000/api/user/reset-password - 200 null application/json; charset=utf-8 248.4383ms
2024-11-26 14:42:25.420 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:5000/api/user/reset-password - application/json 462
2024-11-26 14:42:25.424 +05:30 [INF] Executing endpoint 'FunDo.Controllers.UserController.ResetPassword (FunDooNotes)'
2024-11-26 14:42:25.424 +05:30 [INF] Route matched with {action = "ResetPassword", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(Models.DTOs.ResetPasswordDto) on controller FunDo.Controllers.UserController (FunDooNotes).
2024-11-26 14:42:25.427 +05:30 [INF] Reset password started
2024-11-26 14:42:25.427 +05:30 [INF] Attempting to retrieve user with ID: 1
2024-11-26 14:42:25.430 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2024-11-26 14:42:25.432 +05:30 [INF] User with ID: 1 retrieved successfully.
2024-11-26 14:42:25.625 +05:30 [INF] Attempting to update user with ID: 1
2024-11-26 14:42:25.632 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [Email] = @p0, [Name] = @p1, [Password] = @p2, [Phone] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2024-11-26 14:42:25.633 +05:30 [INF] User with ID: 1 successfully updated.
2024-11-26 14:42:25.634 +05:30 [INF] Password reset successful
2024-11-26 14:42:25.634 +05:30 [INF] Reset password successful
2024-11-26 14:42:25.635 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 14:42:25.636 +05:30 [INF] Executed action FunDo.Controllers.UserController.ResetPassword (FunDooNotes) in 210.5064ms
2024-11-26 14:42:25.636 +05:30 [INF] Executed endpoint 'FunDo.Controllers.UserController.ResetPassword (FunDooNotes)'
2024-11-26 14:42:25.637 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:5000/api/user/reset-password - 200 null application/json; charset=utf-8 217.7191ms
2024-11-26 14:43:59.842 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/notes/ - null null
2024-11-26 14:43:59.844 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-26 14:43:59.844 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-26 14:43:59.845 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/notes/ - 401 null application/json 2.6843ms
2024-11-26 14:44:22.431 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/notes/ - null null
2024-11-26 14:44:22.433 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.GetAllNotes (FunDooNotes)'
2024-11-26 14:44:22.433 +05:30 [INF] Route matched with {action = "GetAllNotes", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllNotes() on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 14:44:22.435 +05:30 [INF] Attempt to get all notes from Database
2024-11-26 14:44:22.436 +05:30 [INF] Attempt to fetch notes from cache for user 1
2024-11-26 14:44:22.437 +05:30 [WRN] Failed to fetch notes from cache
2024-11-26 14:44:22.437 +05:30 [INF] Fetching all notes for user with ID: 1
2024-11-26 14:44:22.437 +05:30 [INF] Checking if user with ID: 1 exists
2024-11-26 14:44:22.442 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 14:44:22.443 +05:30 [INF] Fetching notes for user with ID: 1
2024-11-26 14:44:22.449 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[Title], [n].[Description], [n].[Color], [n].[IsArchive], [n].[IsTrash], CASE
    WHEN [n].[UserId] = @__userId_0 THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsCreated]
FROM [Notes] AS [n]
WHERE [n].[UserId] = @__userId_0 OR EXISTS (
    SELECT 1
    FROM [Collaborators] AS [c]
    WHERE [c].[UserId] = @__userId_0 AND [c].[NoteId] = [n].[Id])
2024-11-26 14:44:22.451 +05:30 [INF] 6 notes retrieved for user with ID: 1
2024-11-26 14:44:22.452 +05:30 [INF] Serializing notes to store it in cache
2024-11-26 14:44:22.453 +05:30 [INF] Notes retrieved successfully
2024-11-26 14:44:22.453 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Models.DTOs.NoteResponseDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 14:44:22.454 +05:30 [INF] Executed action FunDo.Controllers.NoteController.GetAllNotes (FunDooNotes) in 19.6811ms
2024-11-26 14:44:22.455 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.GetAllNotes (FunDooNotes)'
2024-11-26 14:44:22.456 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/notes/ - 200 null application/json; charset=utf-8 24.4382ms
2024-11-26 14:45:20.790 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/notes/2 - null null
2024-11-26 14:45:20.793 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.GetNotesById (FunDooNotes)'
2024-11-26 14:45:20.794 +05:30 [INF] Route matched with {action = "GetNotesById", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNotesById(Int32) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 14:45:20.795 +05:30 [INF] Started retrieving notes by Id
2024-11-26 14:45:20.795 +05:30 [INF] Attempting to retrieve note with ID: 2 for user ID: 1
2024-11-26 14:45:20.796 +05:30 [INF] Checking if user with ID: 1 exists
2024-11-26 14:45:20.799 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 14:45:20.803 +05:30 [INF] Retrieving note with ID: 2
2024-11-26 14:45:20.805 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 14:45:20.810 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__noteId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Collaborators] AS [c]
        WHERE [c].[UserId] = @__userId_0 AND [c].[NoteId] = @__noteId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 14:45:20.811 +05:30 [WRN] User with ID: 1 does not have access to note ID: 2
2024-11-26 14:45:20.868 +05:30 [INF] Executed action FunDo.Controllers.NoteController.GetNotesById (FunDooNotes) in 73.6063ms
2024-11-26 14:45:20.869 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.GetNotesById (FunDooNotes)'
2024-11-26 14:45:20.915 +05:30 [ERR] An unhandled exception has occurred.
DataLayer.Exceptions.UserException: You don't have access to this note
   at DataLayer.Repositories.NoteDL.GetNoteByIdInDb(Int32 noteId, Int32 userId) in D:\FunDo\DataLayer\Repositories\NoteDL.cs:line 165
   at BusinessLayer.Services.NoteBL.GetNoteByIdAsync(Int32 noteId) in D:\FunDo\BusinessLayer\Services\NoteBL.cs:line 67
   at FunDo.Controllers.NoteController.GetNotesById(Int32 noteId) in D:\FunDo\FunDo\Controllers\NoteController.cs:line 79
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at DataLayer.Exceptions.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\FunDo\DataLayer\Exceptions\GlobalExceptionHandlingMiddleware.cs:line 25
2024-11-26 14:45:20.920 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/notes/2 - 400 null application/json 129.5735ms
2024-11-26 14:45:26.965 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/notes/1 - null null
2024-11-26 14:45:26.967 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.GetNotesById (FunDooNotes)'
2024-11-26 14:45:26.968 +05:30 [INF] Route matched with {action = "GetNotesById", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNotesById(Int32) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 14:45:26.970 +05:30 [INF] Started retrieving notes by Id
2024-11-26 14:45:26.970 +05:30 [INF] Attempting to retrieve note with ID: 1 for user ID: 1
2024-11-26 14:45:26.971 +05:30 [INF] Checking if user with ID: 1 exists
2024-11-26 14:45:26.974 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 14:45:26.975 +05:30 [INF] Retrieving note with ID: 1
2024-11-26 14:45:26.977 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 14:45:26.979 +05:30 [INF] Note with ID: 1 retrieved successfully
2024-11-26 14:45:26.979 +05:30 [INF] Retrieved notes successfully
2024-11-26 14:45:26.980 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[Models.DTOs.NoteResponseDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-26 14:45:26.981 +05:30 [INF] Executed action FunDo.Controllers.NoteController.GetNotesById (FunDooNotes) in 12.535ms
2024-11-26 14:45:26.982 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.GetNotesById (FunDooNotes)'
2024-11-26 14:45:26.982 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/notes/1 - 200 null application/json; charset=utf-8 16.6814ms
2024-11-26 14:45:46.247 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/notes/2 - null null
2024-11-26 14:45:46.249 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.GetNotesById (FunDooNotes)'
2024-11-26 14:45:46.250 +05:30 [INF] Route matched with {action = "GetNotesById", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNotesById(Int32) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 14:45:46.251 +05:30 [INF] Started retrieving notes by Id
2024-11-26 14:45:46.252 +05:30 [INF] Attempting to retrieve note with ID: 2 for user ID: 1
2024-11-26 14:45:46.252 +05:30 [INF] Checking if user with ID: 1 exists
2024-11-26 14:45:46.257 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 14:45:46.258 +05:30 [INF] Retrieving note with ID: 2
2024-11-26 14:45:46.260 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 14:45:46.264 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__noteId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Collaborators] AS [c]
        WHERE [c].[UserId] = @__userId_0 AND [c].[NoteId] = @__noteId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 14:45:46.266 +05:30 [WRN] User with ID: 1 does not have access to note ID: 2
2024-11-26 14:45:46.314 +05:30 [INF] Executed action FunDo.Controllers.NoteController.GetNotesById (FunDooNotes) in 62.969ms
2024-11-26 14:45:46.315 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.GetNotesById (FunDooNotes)'
2024-11-26 14:45:46.348 +05:30 [ERR] An unhandled exception has occurred.
DataLayer.Exceptions.UserException: You don't have access to this note
   at DataLayer.Repositories.NoteDL.GetNoteByIdInDb(Int32 noteId, Int32 userId) in D:\FunDo\DataLayer\Repositories\NoteDL.cs:line 165
   at BusinessLayer.Services.NoteBL.GetNoteByIdAsync(Int32 noteId) in D:\FunDo\BusinessLayer\Services\NoteBL.cs:line 67
   at FunDo.Controllers.NoteController.GetNotesById(Int32 noteId) in D:\FunDo\FunDo\Controllers\NoteController.cs:line 79
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at DataLayer.Exceptions.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\FunDo\DataLayer\Exceptions\GlobalExceptionHandlingMiddleware.cs:line 25
2024-11-26 14:45:46.352 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/notes/2 - 400 null application/json 106.8066ms
2024-11-26 14:45:51.321 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/notes/1 - null null
2024-11-26 14:45:51.323 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.GetNotesById (FunDooNotes)'
2024-11-26 14:45:51.323 +05:30 [INF] Route matched with {action = "GetNotesById", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNotesById(Int32) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 14:45:51.324 +05:30 [INF] Started retrieving notes by Id
2024-11-26 14:45:51.325 +05:30 [INF] Attempting to retrieve note with ID: 1 for user ID: 1
2024-11-26 14:45:51.325 +05:30 [INF] Checking if user with ID: 1 exists
2024-11-26 14:45:51.328 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 14:45:51.330 +05:30 [INF] Retrieving note with ID: 1
2024-11-26 14:45:51.331 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 14:45:51.333 +05:30 [INF] Note with ID: 1 retrieved successfully
2024-11-26 14:45:51.333 +05:30 [INF] Retrieved notes successfully
2024-11-26 14:45:51.333 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[Models.DTOs.NoteResponseDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-26 14:45:51.334 +05:30 [INF] Executed action FunDo.Controllers.NoteController.GetNotesById (FunDooNotes) in 9.7085ms
2024-11-26 14:45:51.334 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.GetNotesById (FunDooNotes)'
2024-11-26 14:45:51.335 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/notes/1 - 200 null application/json; charset=utf-8 14.1055ms
2024-11-26 14:47:22.024 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:5000/api/user/login - application/json 62
2024-11-26 14:47:22.028 +05:30 [INF] Executing endpoint 'FunDo.Controllers.UserController.LoginUser (FunDooNotes)'
2024-11-26 14:47:22.028 +05:30 [INF] Route matched with {action = "LoginUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(Models.DTOs.LoginUserDto) on controller FunDo.Controllers.UserController (FunDooNotes).
2024-11-26 14:47:22.030 +05:30 [INF] Logging user Joey@gmail.com
2024-11-26 14:47:22.030 +05:30 [INF] Checking if the user present
2024-11-26 14:47:22.030 +05:30 [INF] Attempting to retrieve user with Email: Joey@gmail.com
2024-11-26 14:47:22.033 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2024-11-26 14:47:22.036 +05:30 [INF] User with Email: Joey@gmail.com retrieved successfully.
2024-11-26 14:47:22.036 +05:30 [INF] Verifying the password
2024-11-26 14:47:22.255 +05:30 [INF] Password is valid and token is generated
2024-11-26 14:47:22.257 +05:30 [INF] Login successful
2024-11-26 14:47:22.257 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[Models.DTOs.LoginResponseDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-26 14:47:22.258 +05:30 [INF] Executed action FunDo.Controllers.UserController.LoginUser (FunDooNotes) in 228.664ms
2024-11-26 14:47:22.258 +05:30 [INF] Executed endpoint 'FunDo.Controllers.UserController.LoginUser (FunDooNotes)'
2024-11-26 14:47:22.259 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:5000/api/user/login - 200 null application/json; charset=utf-8 235.2393ms
2024-11-26 14:48:43.004 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:5000/api/notes - application/json 75
2024-11-26 14:48:43.006 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-26 14:48:43.008 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-26 14:48:43.008 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:5000/api/notes - 401 null application/json 4.3898ms
2024-11-26 14:48:52.924 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:5000/api/notes - application/json 75
2024-11-26 14:48:52.926 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.CreateNote (FunDooNotes)'
2024-11-26 14:48:52.929 +05:30 [INF] Route matched with {action = "CreateNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNote(Models.DTOs.NoteDto) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 14:48:52.934 +05:30 [INF] Attempt to create a note
2024-11-26 14:48:52.944 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 14:48:52.958 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Notes] ([Color], [Description], [IsArchive], [IsTrash], [Title], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-11-26 14:48:52.964 +05:30 [INF] Created notes successfully
2024-11-26 14:48:52.965 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[Models.DTOs.NoteResponseDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-26 14:48:52.965 +05:30 [INF] Executed action FunDo.Controllers.NoteController.CreateNote (FunDooNotes) in 34.8656ms
2024-11-26 14:48:52.966 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.CreateNote (FunDooNotes)'
2024-11-26 14:48:52.966 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:5000/api/notes - 200 null application/json; charset=utf-8 42.3064ms
2024-11-26 14:49:15.696 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:5000/api/notes - application/json 75
2024-11-26 14:49:15.697 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.CreateNote (FunDooNotes)'
2024-11-26 14:49:15.698 +05:30 [INF] Route matched with {action = "CreateNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNote(Models.DTOs.NoteDto) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 14:49:15.699 +05:30 [INF] Attempt to create a note
2024-11-26 14:49:15.701 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 14:49:15.705 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Notes] ([Color], [Description], [IsArchive], [IsTrash], [Title], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-11-26 14:49:15.706 +05:30 [INF] Created notes successfully
2024-11-26 14:49:15.707 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[Models.DTOs.NoteResponseDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-26 14:49:15.708 +05:30 [INF] Executed action FunDo.Controllers.NoteController.CreateNote (FunDooNotes) in 9.6854ms
2024-11-26 14:49:15.709 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.CreateNote (FunDooNotes)'
2024-11-26 14:49:15.709 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:5000/api/notes - 200 null application/json; charset=utf-8 13.6415ms
2024-11-26 14:51:16.416 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/notes/12 - application/json 29
2024-11-26 14:51:16.417 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-26 14:51:16.418 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-26 14:51:16.418 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/notes/12 - 401 null application/json 2.3445ms
2024-11-26 14:51:40.784 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/notes/12 - application/json 29
2024-11-26 14:51:40.786 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.GetNotesById (FunDooNotes)'
2024-11-26 14:51:40.787 +05:30 [INF] Route matched with {action = "GetNotesById", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNotesById(Int32) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 14:51:40.790 +05:30 [INF] Started retrieving notes by Id
2024-11-26 14:51:40.790 +05:30 [INF] Attempting to retrieve note with ID: 12 for user ID: 4
2024-11-26 14:51:40.791 +05:30 [INF] Checking if user with ID: 4 exists
2024-11-26 14:51:40.796 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 14:51:40.797 +05:30 [INF] Retrieving note with ID: 12
2024-11-26 14:51:40.800 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 14:51:40.802 +05:30 [INF] Note with ID: 12 retrieved successfully
2024-11-26 14:51:40.802 +05:30 [INF] Retrieved notes successfully
2024-11-26 14:51:40.803 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[Models.DTOs.NoteResponseDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-26 14:51:40.804 +05:30 [INF] Executed action FunDo.Controllers.NoteController.GetNotesById (FunDooNotes) in 15.6035ms
2024-11-26 14:51:40.804 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.GetNotesById (FunDooNotes)'
2024-11-26 14:51:40.805 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/notes/12 - 200 null application/json; charset=utf-8 21.6912ms
2024-11-26 14:51:58.905 +05:30 [INF] Request starting HTTP/1.1 PATCH https://localhost:5000/api/notes/12 - application/json 29
2024-11-26 14:51:58.906 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.UpdateNote (FunDooNotes)'
2024-11-26 14:51:58.909 +05:30 [INF] Route matched with {action = "UpdateNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateNote(Int32, Models.DTOs.NoteUpdateDto) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 14:51:58.913 +05:30 [INF] Updating note with ID: 12
2024-11-26 14:51:58.914 +05:30 [INF] User with ID: 4 is attempting to update note with ID: 12
2024-11-26 14:51:58.916 +05:30 [INF] Checking if user with ID: 4 exists
2024-11-26 14:51:58.920 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 14:51:58.922 +05:30 [INF] Retrieving note with ID: 12
2024-11-26 14:51:58.924 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 14:51:58.925 +05:30 [INF] User with ID: 4 has permission to update note ID: 12
2024-11-26 14:51:58.930 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Notes] SET [Description] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-11-26 14:51:58.931 +05:30 [INF] Successfully updated note with ID: 12
2024-11-26 14:51:58.932 +05:30 [INF] Retrieved notes successfully
2024-11-26 14:51:58.933 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[Models.DTOs.NoteResponseDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-26 14:51:58.937 +05:30 [INF] Executed action FunDo.Controllers.NoteController.UpdateNote (FunDooNotes) in 26.5093ms
2024-11-26 14:51:58.937 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.UpdateNote (FunDooNotes)'
2024-11-26 14:51:58.938 +05:30 [INF] Request finished HTTP/1.1 PATCH https://localhost:5000/api/notes/12 - 200 null application/json; charset=utf-8 33.4004ms
2024-11-26 14:55:38.579 +05:30 [INF] Request starting HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12 - application/json 26
2024-11-26 14:55:38.587 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 14:55:38.596 +05:30 [INF] Route matched with {action = "ToggleArchiveNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleArchiveNote(Int32, Boolean) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 14:55:38.606 +05:30 [INF] Received request to toggle archive status for note with ID: 12
2024-11-26 14:55:38.611 +05:30 [INF] Initiating toggle of archive status for note with ID: 12 for user ID: 4
2024-11-26 14:55:38.628 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 14:55:38.636 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 14:55:38.642 +05:30 [INF] Note with ID: 12 archive status updated to false
2024-11-26 14:55:38.648 +05:30 [INF] Successfully toggled archive status for note with ID: 12
2024-11-26 14:55:38.653 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 14:55:38.657 +05:30 [INF] Executed action FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes) in 53.8818ms
2024-11-26 14:55:38.660 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 14:55:38.662 +05:30 [INF] Request finished HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12 - 200 null application/json; charset=utf-8 83.6939ms
2024-11-26 14:56:00.118 +05:30 [INF] Request starting HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12 - application/json 27
2024-11-26 14:56:00.121 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 14:56:00.123 +05:30 [INF] Route matched with {action = "ToggleArchiveNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleArchiveNote(Int32, Boolean) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 14:56:00.126 +05:30 [INF] Received request to toggle archive status for note with ID: 12
2024-11-26 14:56:00.127 +05:30 [INF] Initiating toggle of archive status for note with ID: 12 for user ID: 4
2024-11-26 14:56:00.131 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 14:56:00.137 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 14:56:00.140 +05:30 [INF] Note with ID: 12 archive status updated to false
2024-11-26 14:56:00.142 +05:30 [INF] Successfully toggled archive status for note with ID: 12
2024-11-26 14:56:00.144 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 14:56:00.145 +05:30 [INF] Executed action FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes) in 19.4494ms
2024-11-26 14:56:00.146 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 14:56:00.148 +05:30 [INF] Request finished HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12 - 200 null application/json; charset=utf-8 30.5173ms
2024-11-26 14:56:11.773 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/notes/12 - null null
2024-11-26 14:56:11.779 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.GetNotesById (FunDooNotes)'
2024-11-26 14:56:11.781 +05:30 [INF] Route matched with {action = "GetNotesById", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNotesById(Int32) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 14:56:11.783 +05:30 [INF] Started retrieving notes by Id
2024-11-26 14:56:11.784 +05:30 [INF] Attempting to retrieve note with ID: 12 for user ID: 1
2024-11-26 14:56:11.786 +05:30 [INF] Checking if user with ID: 1 exists
2024-11-26 14:56:11.790 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 14:56:11.795 +05:30 [INF] Retrieving note with ID: 12
2024-11-26 14:56:11.799 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 14:56:11.806 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__noteId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Collaborators] AS [c]
        WHERE [c].[UserId] = @__userId_0 AND [c].[NoteId] = @__noteId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 14:56:11.809 +05:30 [WRN] User with ID: 1 does not have access to note ID: 12
2024-11-26 14:56:11.942 +05:30 [INF] Executed action FunDo.Controllers.NoteController.GetNotesById (FunDooNotes) in 158.8156ms
2024-11-26 14:56:11.945 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.GetNotesById (FunDooNotes)'
2024-11-26 14:56:12.037 +05:30 [ERR] An unhandled exception has occurred.
DataLayer.Exceptions.UserException: You don't have access to this note
   at DataLayer.Repositories.NoteDL.GetNoteByIdInDb(Int32 noteId, Int32 userId) in D:\FunDo\DataLayer\Repositories\NoteDL.cs:line 165
   at BusinessLayer.Services.NoteBL.GetNoteByIdAsync(Int32 noteId) in D:\FunDo\BusinessLayer\Services\NoteBL.cs:line 67
   at FunDo.Controllers.NoteController.GetNotesById(Int32 noteId) in D:\FunDo\FunDo\Controllers\NoteController.cs:line 79
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at DataLayer.Exceptions.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\FunDo\DataLayer\Exceptions\GlobalExceptionHandlingMiddleware.cs:line 25
2024-11-26 14:56:12.055 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/notes/12 - 400 null application/json 282.105ms
2024-11-26 14:56:30.594 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/notes/12 - null null
2024-11-26 14:56:30.603 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.GetNotesById (FunDooNotes)'
2024-11-26 14:56:30.605 +05:30 [INF] Route matched with {action = "GetNotesById", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNotesById(Int32) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 14:56:30.613 +05:30 [INF] Started retrieving notes by Id
2024-11-26 14:56:30.616 +05:30 [INF] Attempting to retrieve note with ID: 12 for user ID: 4
2024-11-26 14:56:30.619 +05:30 [INF] Checking if user with ID: 4 exists
2024-11-26 14:56:30.630 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 14:56:30.638 +05:30 [INF] Retrieving note with ID: 12
2024-11-26 14:56:30.647 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 14:56:30.657 +05:30 [INF] Note with ID: 12 retrieved successfully
2024-11-26 14:56:30.662 +05:30 [INF] Retrieved notes successfully
2024-11-26 14:56:30.663 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[Models.DTOs.NoteResponseDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-26 14:56:30.665 +05:30 [INF] Executed action FunDo.Controllers.NoteController.GetNotesById (FunDooNotes) in 52.0632ms
2024-11-26 14:56:30.667 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.GetNotesById (FunDooNotes)'
2024-11-26 14:56:30.670 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/notes/12 - 200 null application/json; charset=utf-8 75.7466ms
2024-11-26 14:56:40.253 +05:30 [INF] Request starting HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12 - application/json 26
2024-11-26 14:56:40.260 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 14:56:40.262 +05:30 [INF] Route matched with {action = "ToggleArchiveNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleArchiveNote(Int32, Boolean) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 14:56:40.265 +05:30 [INF] Received request to toggle archive status for note with ID: 12
2024-11-26 14:56:40.266 +05:30 [INF] Initiating toggle of archive status for note with ID: 12 for user ID: 4
2024-11-26 14:56:40.274 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 14:56:40.295 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 14:56:40.301 +05:30 [INF] Note with ID: 12 archive status updated to false
2024-11-26 14:56:40.305 +05:30 [INF] Successfully toggled archive status for note with ID: 12
2024-11-26 14:56:40.307 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 14:56:40.310 +05:30 [INF] Executed action FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes) in 45.4614ms
2024-11-26 14:56:40.312 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 14:56:40.313 +05:30 [INF] Request finished HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12 - 200 null application/json; charset=utf-8 60.0885ms
2024-11-26 14:56:45.210 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/notes/12 - null null
2024-11-26 14:56:45.216 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.GetNotesById (FunDooNotes)'
2024-11-26 14:56:45.218 +05:30 [INF] Route matched with {action = "GetNotesById", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNotesById(Int32) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 14:56:45.222 +05:30 [INF] Started retrieving notes by Id
2024-11-26 14:56:45.223 +05:30 [INF] Attempting to retrieve note with ID: 12 for user ID: 4
2024-11-26 14:56:45.224 +05:30 [INF] Checking if user with ID: 4 exists
2024-11-26 14:56:45.227 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 14:56:45.231 +05:30 [INF] Retrieving note with ID: 12
2024-11-26 14:56:45.234 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 14:56:45.237 +05:30 [INF] Note with ID: 12 retrieved successfully
2024-11-26 14:56:45.238 +05:30 [INF] Retrieved notes successfully
2024-11-26 14:56:45.240 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[Models.DTOs.NoteResponseDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-26 14:56:45.242 +05:30 [INF] Executed action FunDo.Controllers.NoteController.GetNotesById (FunDooNotes) in 20.3675ms
2024-11-26 14:56:45.243 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.GetNotesById (FunDooNotes)'
2024-11-26 14:56:45.245 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/notes/12 - 200 null application/json; charset=utf-8 35.0655ms
2024-11-26 14:57:07.424 +05:30 [INF] Request starting HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12 - application/json 26
2024-11-26 14:57:07.431 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 14:57:07.432 +05:30 [INF] Route matched with {action = "ToggleArchiveNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleArchiveNote(Int32, Boolean) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 14:57:07.435 +05:30 [INF] Received request to toggle archive status for note with ID: 12
2024-11-26 14:57:07.436 +05:30 [INF] Initiating toggle of archive status for note with ID: 12 for user ID: 4
2024-11-26 14:57:07.445 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 14:57:07.464 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 14:57:07.470 +05:30 [INF] Note with ID: 12 archive status updated to false
2024-11-26 14:57:07.472 +05:30 [INF] Successfully toggled archive status for note with ID: 12
2024-11-26 14:57:07.475 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 14:57:07.481 +05:30 [INF] Executed action FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes) in 46.4223ms
2024-11-26 14:57:07.485 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 14:57:07.488 +05:30 [INF] Request finished HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12 - 200 null application/json; charset=utf-8 63.6692ms
2024-11-26 14:57:18.824 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/notes/12 - null null
2024-11-26 14:57:18.831 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.GetNotesById (FunDooNotes)'
2024-11-26 14:57:18.834 +05:30 [INF] Route matched with {action = "GetNotesById", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNotesById(Int32) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 14:57:18.840 +05:30 [INF] Started retrieving notes by Id
2024-11-26 14:57:18.841 +05:30 [INF] Attempting to retrieve note with ID: 12 for user ID: 4
2024-11-26 14:57:18.844 +05:30 [INF] Checking if user with ID: 4 exists
2024-11-26 14:57:18.851 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 14:57:18.861 +05:30 [INF] Retrieving note with ID: 12
2024-11-26 14:57:18.866 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 14:57:18.872 +05:30 [INF] Note with ID: 12 retrieved successfully
2024-11-26 14:57:18.875 +05:30 [INF] Retrieved notes successfully
2024-11-26 14:57:18.878 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[Models.DTOs.NoteResponseDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-26 14:57:18.881 +05:30 [INF] Executed action FunDo.Controllers.NoteController.GetNotesById (FunDooNotes) in 41.5139ms
2024-11-26 14:57:18.883 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.GetNotesById (FunDooNotes)'
2024-11-26 14:57:18.884 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/notes/12 - 200 null application/json; charset=utf-8 60.4678ms
2024-11-26 15:03:34.880 +05:30 [INF] User profile is available. Using 'C:\Users\Shreesha_MS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-26 15:03:35.262 +05:30 [INF] Now listening on: https://localhost:5000
2024-11-26 15:03:35.264 +05:30 [INF] Now listening on: http://localhost:5001
2024-11-26 15:03:35.341 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-11-26 15:03:35.343 +05:30 [INF] Hosting environment: Development
2024-11-26 15:03:35.344 +05:30 [INF] Content root path: D:\FunDo\FunDo
2024-11-26 15:03:36.915 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger - null null
2024-11-26 15:03:37.095 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger - 301 0 null 191.5134ms
2024-11-26 15:03:37.102 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/index.html - null null
2024-11-26 15:03:37.178 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/index.html - 200 null text/html;charset=utf-8 75.7036ms
2024-11-26 15:03:37.184 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/swagger-ui-standalone-preset.js - null null
2024-11-26 15:03:37.183 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/swagger-ui.css - null null
2024-11-26 15:03:37.189 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2024-11-26 15:03:37.190 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/_vs/browserLink - null null
2024-11-26 15:03:37.183 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/swagger-ui-bundle.js - null null
2024-11-26 15:03:37.212 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 26.1645ms
2024-11-26 15:03:37.261 +05:30 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-11-26 15:03:37.270 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/swagger-ui.css - 200 143943 text/css 87.0443ms
2024-11-26 15:03:37.278 +05:30 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-11-26 15:03:37.303 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 119.36ms
2024-11-26 15:03:37.346 +05:30 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-11-26 15:03:37.352 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 168.4077ms
2024-11-26 15:03:37.358 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 167.3816ms
2024-11-26 15:03:37.588 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/v1/swagger.json - null null
2024-11-26 15:03:37.739 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 150.7636ms
2024-11-26 15:03:41.173 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2024-11-26 15:03:41.254 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 81.4025ms
2024-11-26 15:03:54.065 +05:30 [INF] Request starting HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12 - application/json 26
2024-11-26 15:03:56.647 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 15:03:56.688 +05:30 [INF] Route matched with {action = "ToggleArchiveNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleArchiveNote(Int32, Boolean) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 15:03:57.623 +05:30 [INF] Received request to toggle archive status for note with ID: 12
2024-11-26 15:03:57.624 +05:30 [INF] Initiating toggle of archive status for note with ID: 12 for user ID: 4
2024-11-26 15:04:00.662 +05:30 [INF] Executed DbCommand (142ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 15:04:00.792 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 15:04:00.881 +05:30 [INF] Note with ID: 12 archive status updated to false
2024-11-26 15:04:00.884 +05:30 [INF] Successfully toggled archive status for note with ID: 12
2024-11-26 15:04:00.895 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 15:04:00.909 +05:30 [INF] Executed action FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes) in 4213.7426ms
2024-11-26 15:04:00.911 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 15:04:00.926 +05:30 [INF] Request finished HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12 - 200 null application/json; charset=utf-8 6860.9514ms
2024-11-26 15:04:13.152 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/notes/12 - null null
2024-11-26 15:04:13.160 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.GetNotesById (FunDooNotes)'
2024-11-26 15:04:13.167 +05:30 [INF] Route matched with {action = "GetNotesById", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNotesById(Int32) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 15:04:13.171 +05:30 [INF] Started retrieving notes by Id
2024-11-26 15:04:13.172 +05:30 [INF] Attempting to retrieve note with ID: 12 for user ID: 4
2024-11-26 15:04:13.176 +05:30 [INF] Checking if user with ID: 4 exists
2024-11-26 15:04:13.199 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 15:04:13.203 +05:30 [INF] Retrieving note with ID: 12
2024-11-26 15:04:13.206 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 15:04:13.209 +05:30 [INF] Note with ID: 12 retrieved successfully
2024-11-26 15:04:13.210 +05:30 [INF] Retrieved notes successfully
2024-11-26 15:04:13.212 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[Models.DTOs.NoteResponseDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-26 15:04:13.216 +05:30 [INF] Executed action FunDo.Controllers.NoteController.GetNotesById (FunDooNotes) in 47.7609ms
2024-11-26 15:04:13.217 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.GetNotesById (FunDooNotes)'
2024-11-26 15:04:13.219 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/notes/12 - 200 null application/json; charset=utf-8 67.0855ms
2024-11-26 15:06:58.992 +05:30 [INF] Request starting HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12 - application/json 26
2024-11-26 15:06:59.000 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 15:06:59.002 +05:30 [INF] Route matched with {action = "ToggleArchiveNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleArchiveNote(Int32, Boolean) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 15:06:59.013 +05:30 [INF] Received request to toggle archive status for note with ID: 12
2024-11-26 15:06:59.014 +05:30 [INF] Initiating toggle of archive status for note with ID: 12 for user ID: 4
2024-11-26 15:06:59.083 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 15:06:59.092 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 15:06:59.096 +05:30 [INF] Note with ID: 12 archive status updated to false
2024-11-26 15:06:59.097 +05:30 [INF] Successfully toggled archive status for note with ID: 12
2024-11-26 15:06:59.098 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 15:06:59.099 +05:30 [INF] Executed action FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes) in 92.5929ms
2024-11-26 15:06:59.102 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 15:06:59.104 +05:30 [INF] Request finished HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12 - 200 null application/json; charset=utf-8 112.0688ms
2024-11-26 15:13:09.407 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/index.html - null null
2024-11-26 15:13:09.468 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/index.html - 200 null text/html;charset=utf-8 61.8837ms
2024-11-26 15:13:09.481 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/_vs/browserLink - null null
2024-11-26 15:13:09.507 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.6072ms
2024-11-26 15:13:09.622 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2024-11-26 15:13:09.636 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 13.2921ms
2024-11-26 15:13:09.695 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/v1/swagger.json - null null
2024-11-26 15:13:09.738 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 42.9269ms
2024-11-26 15:13:09.738 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/favicon-32x32.png - null null
2024-11-26 15:13:09.755 +05:30 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-11-26 15:13:09.757 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/favicon-32x32.png - 200 628 image/png 18.7178ms
2024-11-26 15:13:14.578 +05:30 [INF] Request starting HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12 - application/json 26
2024-11-26 15:13:14.587 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 15:13:14.596 +05:30 [INF] Route matched with {action = "ToggleArchiveNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleArchiveNote(Int32, Boolean) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 15:13:14.632 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-26 15:13:14.666 +05:30 [INF] Executed action FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes) in 64.837ms
2024-11-26 15:13:14.669 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 15:13:14.671 +05:30 [INF] Request finished HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12 - 400 null application/problem+json; charset=utf-8 93.2098ms
2024-11-26 15:14:45.283 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/index.html - null null
2024-11-26 15:14:45.311 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/index.html - 200 null text/html;charset=utf-8 29.0357ms
2024-11-26 15:14:45.344 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/_vs/browserLink - null null
2024-11-26 15:14:45.344 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2024-11-26 15:14:45.369 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 25.0554ms
2024-11-26 15:14:45.378 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.5052ms
2024-11-26 15:14:45.572 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/v1/swagger.json - null null
2024-11-26 15:14:45.591 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.9731ms
2024-11-26 15:15:12.884 +05:30 [INF] Request starting HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12?isArchive=true - null 0
2024-11-26 15:15:12.890 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 15:15:12.900 +05:30 [INF] Route matched with {action = "ToggleArchiveNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleArchiveNote(Int32, Boolean) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 15:15:12.916 +05:30 [INF] Received request to toggle archive status for note with ID: 12
2024-11-26 15:15:12.918 +05:30 [INF] Initiating toggle of archive status for note with ID: 12 for user ID: 4
2024-11-26 15:15:12.946 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 15:15:12.957 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 15:15:13.097 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Notes] SET [IsArchive] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-11-26 15:15:13.126 +05:30 [INF] Note with ID: 12 archive status updated to true
2024-11-26 15:15:13.128 +05:30 [INF] Successfully toggled archive status for note with ID: 12
2024-11-26 15:15:13.131 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 15:15:13.135 +05:30 [INF] Executed action FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes) in 231.0731ms
2024-11-26 15:15:13.138 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 15:15:13.139 +05:30 [INF] Request finished HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12?isArchive=true - 200 null application/json; charset=utf-8 255.2326ms
2024-11-26 15:22:42.131 +05:30 [INF] User profile is available. Using 'C:\Users\Shreesha_MS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-26 15:22:42.626 +05:30 [INF] Now listening on: https://localhost:5000
2024-11-26 15:22:42.628 +05:30 [INF] Now listening on: http://localhost:5001
2024-11-26 15:22:42.718 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-11-26 15:22:42.720 +05:30 [INF] Hosting environment: Development
2024-11-26 15:22:42.721 +05:30 [INF] Content root path: D:\FunDo\FunDo
2024-11-26 15:22:43.363 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger - null null
2024-11-26 15:22:43.640 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger - 301 0 null 297.5422ms
2024-11-26 15:22:43.646 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/index.html - null null
2024-11-26 15:22:43.789 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/index.html - 200 null text/html;charset=utf-8 142.7328ms
2024-11-26 15:22:43.791 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/_vs/browserLink - null null
2024-11-26 15:22:43.790 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/swagger-ui.css - null null
2024-11-26 15:22:43.790 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2024-11-26 15:22:43.790 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/swagger-ui-bundle.js - null null
2024-11-26 15:22:43.790 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/swagger-ui-standalone-preset.js - null null
2024-11-26 15:22:43.815 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 24.5561ms
2024-11-26 15:22:43.844 +05:30 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-11-26 15:22:43.850 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/swagger-ui.css - 200 143943 text/css 60.2717ms
2024-11-26 15:22:43.855 +05:30 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-11-26 15:22:43.867 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 77.0281ms
2024-11-26 15:22:43.888 +05:30 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-11-26 15:22:43.890 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 99.9656ms
2024-11-26 15:22:43.905 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 113.6683ms
2024-11-26 15:22:44.125 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/v1/swagger.json - null null
2024-11-26 15:22:44.306 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 181.3081ms
2024-11-26 15:22:55.109 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/notes/12 - null null
2024-11-26 15:22:57.363 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.GetNotesById (FunDooNotes)'
2024-11-26 15:22:57.429 +05:30 [INF] Route matched with {action = "GetNotesById", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNotesById(Int32) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 15:22:58.451 +05:30 [INF] Started retrieving notes by Id
2024-11-26 15:22:58.456 +05:30 [INF] Attempting to retrieve note with ID: 12 for user ID: 4
2024-11-26 15:22:58.481 +05:30 [INF] Checking if user with ID: 4 exists
2024-11-26 15:23:02.377 +05:30 [INF] Executed DbCommand (195ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 15:23:02.445 +05:30 [INF] Retrieving note with ID: 12
2024-11-26 15:23:02.627 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 15:23:02.750 +05:30 [INF] Note with ID: 12 retrieved successfully
2024-11-26 15:23:02.753 +05:30 [INF] Retrieved notes successfully
2024-11-26 15:23:02.771 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[Models.DTOs.NoteResponseDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-26 15:23:02.791 +05:30 [INF] Executed action FunDo.Controllers.NoteController.GetNotesById (FunDooNotes) in 5350.6768ms
2024-11-26 15:23:02.794 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.GetNotesById (FunDooNotes)'
2024-11-26 15:23:02.812 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/notes/12 - 200 null application/json; charset=utf-8 7703.2072ms
2024-11-26 15:23:14.959 +05:30 [INF] Request starting HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12?isArchive=false - null 0
2024-11-26 15:23:14.974 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 15:23:14.986 +05:30 [INF] Route matched with {action = "ToggleArchiveNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleArchiveNote(Int32, Boolean) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 15:23:15.006 +05:30 [INF] Received request to toggle archive status for note with ID: 12
2024-11-26 15:23:15.010 +05:30 [INF] Initiating toggle of archive status for note with ID: 12 for user ID: 4
2024-11-26 15:23:15.054 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 15:23:15.065 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 15:23:15.263 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Notes] SET [IsArchive] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-11-26 15:23:15.289 +05:30 [INF] Note with ID: 12 archive status updated to false
2024-11-26 15:23:15.291 +05:30 [INF] Successfully toggled archive status for note with ID: 12
2024-11-26 15:23:15.293 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 15:23:15.296 +05:30 [INF] Executed action FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes) in 305.4178ms
2024-11-26 15:23:15.298 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 15:23:15.300 +05:30 [INF] Request finished HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12?isArchive=false - 200 null application/json; charset=utf-8 340.7471ms
2024-11-26 15:23:21.737 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/notes/12 - null null
2024-11-26 15:23:21.749 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.GetNotesById (FunDooNotes)'
2024-11-26 15:23:21.752 +05:30 [INF] Route matched with {action = "GetNotesById", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNotesById(Int32) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 15:23:21.763 +05:30 [INF] Started retrieving notes by Id
2024-11-26 15:23:21.765 +05:30 [INF] Attempting to retrieve note with ID: 12 for user ID: 4
2024-11-26 15:23:21.767 +05:30 [INF] Checking if user with ID: 4 exists
2024-11-26 15:23:21.911 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 15:23:21.915 +05:30 [INF] Retrieving note with ID: 12
2024-11-26 15:23:21.920 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 15:23:21.923 +05:30 [INF] Note with ID: 12 retrieved successfully
2024-11-26 15:23:21.927 +05:30 [INF] Retrieved notes successfully
2024-11-26 15:23:21.928 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[Models.DTOs.NoteResponseDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-26 15:23:21.930 +05:30 [INF] Executed action FunDo.Controllers.NoteController.GetNotesById (FunDooNotes) in 173.8368ms
2024-11-26 15:23:21.931 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.GetNotesById (FunDooNotes)'
2024-11-26 15:23:21.933 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/notes/12 - 200 null application/json; charset=utf-8 195.9888ms
2024-11-26 15:26:51.698 +05:30 [INF] User profile is available. Using 'C:\Users\Shreesha_MS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-26 15:26:51.950 +05:30 [INF] Now listening on: https://localhost:5000
2024-11-26 15:26:51.954 +05:30 [INF] Now listening on: http://localhost:5001
2024-11-26 15:26:52.018 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-11-26 15:26:52.020 +05:30 [INF] Hosting environment: Development
2024-11-26 15:26:52.021 +05:30 [INF] Content root path: D:\FunDo\FunDo
2024-11-26 15:26:52.306 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/index.html - null null
2024-11-26 15:26:52.488 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/index.html - 200 null text/html;charset=utf-8 191.2729ms
2024-11-26 15:26:52.498 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2024-11-26 15:26:52.498 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/_vs/browserLink - null null
2024-11-26 15:26:52.511 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 13.9034ms
2024-11-26 15:26:52.551 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.5004ms
2024-11-26 15:26:52.856 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/v1/swagger.json - null null
2024-11-26 15:26:52.978 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 123.1053ms
2024-11-26 15:41:39.265 +05:30 [INF] User profile is available. Using 'C:\Users\Shreesha_MS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-26 15:41:39.514 +05:30 [INF] Now listening on: https://localhost:5000
2024-11-26 15:41:39.514 +05:30 [INF] Now listening on: http://localhost:5001
2024-11-26 15:41:39.559 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-11-26 15:41:39.560 +05:30 [INF] Hosting environment: Development
2024-11-26 15:41:39.561 +05:30 [INF] Content root path: D:\FunDo\FunDo
2024-11-26 15:41:40.044 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger - null null
2024-11-26 15:41:40.207 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger - 301 0 null 171.8262ms
2024-11-26 15:41:40.212 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/index.html - null null
2024-11-26 15:41:40.365 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/index.html - 200 null text/html;charset=utf-8 153.093ms
2024-11-26 15:41:40.371 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/swagger-ui.css - null null
2024-11-26 15:41:40.371 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/swagger-ui-bundle.js - null null
2024-11-26 15:41:40.371 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/swagger-ui-standalone-preset.js - null null
2024-11-26 15:41:40.371 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2024-11-26 15:41:40.371 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/_vs/browserLink - null null
2024-11-26 15:41:40.386 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 14.8372ms
2024-11-26 15:41:40.416 +05:30 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-11-26 15:41:40.416 +05:30 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-11-26 15:41:40.417 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 46.5923ms
2024-11-26 15:41:40.418 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/swagger-ui.css - 200 143943 text/css 47.9489ms
2024-11-26 15:41:40.436 +05:30 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-11-26 15:41:40.437 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 66.5312ms
2024-11-26 15:41:40.485 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 113.5887ms
2024-11-26 15:41:40.586 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/v1/swagger.json - null null
2024-11-26 15:41:40.672 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 85.6002ms
2024-11-26 15:41:47.144 +05:30 [INF] Request starting HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12?isTrash=false - null 0
2024-11-26 15:41:48.351 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-26 15:41:48.369 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-26 15:41:48.370 +05:30 [INF] Request finished HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12?isTrash=false - 401 null application/json 1226.0627ms
2024-11-26 15:41:56.500 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:5000/api/user/login - application/json 62
2024-11-26 15:41:56.508 +05:30 [INF] Executing endpoint 'FunDo.Controllers.UserController.LoginUser (FunDooNotes)'
2024-11-26 15:41:56.538 +05:30 [INF] Route matched with {action = "LoginUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(Models.DTOs.LoginUserDto) on controller FunDo.Controllers.UserController (FunDooNotes).
2024-11-26 15:41:57.079 +05:30 [INF] Logging user Joey@gmail.com
2024-11-26 15:41:57.081 +05:30 [INF] Checking if the user present
2024-11-26 15:41:57.083 +05:30 [INF] Attempting to retrieve user with Email: Joey@gmail.com
2024-11-26 15:41:58.889 +05:30 [INF] Executed DbCommand (104ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2024-11-26 15:41:58.951 +05:30 [INF] User with Email: Joey@gmail.com retrieved successfully.
2024-11-26 15:41:58.953 +05:30 [INF] Verifying the password
2024-11-26 15:41:59.351 +05:30 [INF] Password is valid and token is generated
2024-11-26 15:41:59.351 +05:30 [INF] Login successful
2024-11-26 15:41:59.356 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[Models.DTOs.LoginResponseDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-26 15:41:59.364 +05:30 [INF] Executed action FunDo.Controllers.UserController.LoginUser (FunDooNotes) in 2820.8973ms
2024-11-26 15:41:59.365 +05:30 [INF] Executed endpoint 'FunDo.Controllers.UserController.LoginUser (FunDooNotes)'
2024-11-26 15:41:59.370 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:5000/api/user/login - 200 null application/json; charset=utf-8 2870.713ms
2024-11-26 15:42:23.188 +05:30 [INF] Request starting HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12?isTrash=false - null 0
2024-11-26 15:42:23.226 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 15:42:23.238 +05:30 [INF] Route matched with {action = "ToggleArchiveNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleArchiveNote(Int32, Boolean) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 15:42:23.251 +05:30 [INF] Received request to toggle archive status for note with ID: 12
2024-11-26 15:42:23.252 +05:30 [INF] Initiating toggle of archive status for note with ID: 12 for user ID: 4
2024-11-26 15:42:23.282 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 15:42:23.315 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 15:42:23.345 +05:30 [INF] Note with ID: 12 archive status updated to false
2024-11-26 15:42:23.346 +05:30 [INF] Successfully toggled archive status for note with ID: 12
2024-11-26 15:42:23.348 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 15:42:23.351 +05:30 [INF] Executed action FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes) in 110.3827ms
2024-11-26 15:42:23.351 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 15:42:23.352 +05:30 [INF] Request finished HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12?isTrash=false - 200 null application/json; charset=utf-8 163.737ms
2024-11-26 15:42:32.237 +05:30 [INF] Request starting HTTP/1.1 PATCH https://localhost:5000/api/notes/trash/12?isTrash=false - null 0
2024-11-26 15:42:32.240 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.ToggleTrashNote (FunDooNotes)'
2024-11-26 15:42:32.243 +05:30 [INF] Route matched with {action = "ToggleTrashNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleTrashNote(Int32, Boolean) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 15:42:32.245 +05:30 [INF] Received request to toggle trash status for note with ID: 12
2024-11-26 15:42:32.247 +05:30 [INF] Initiating toggle of trash status for note with ID: 12 for user ID: 4
2024-11-26 15:42:32.305 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 15:42:32.311 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 15:42:32.315 +05:30 [INF] Note with ID: 12 archive status updated to false
2024-11-26 15:42:32.317 +05:30 [INF] Successfully toggled trash status for note with ID: 12
2024-11-26 15:42:32.319 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 15:42:32.322 +05:30 [INF] Executed action FunDo.Controllers.NoteController.ToggleTrashNote (FunDooNotes) in 78.6637ms
2024-11-26 15:42:32.324 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.ToggleTrashNote (FunDooNotes)'
2024-11-26 15:42:32.324 +05:30 [INF] Request finished HTTP/1.1 PATCH https://localhost:5000/api/notes/trash/12?isTrash=false - 200 null application/json; charset=utf-8 87.952ms
2024-11-26 15:45:04.891 +05:30 [INF] User profile is available. Using 'C:\Users\Shreesha_MS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-26 15:45:05.044 +05:30 [INF] Now listening on: https://localhost:5000
2024-11-26 15:45:05.045 +05:30 [INF] Now listening on: http://localhost:5001
2024-11-26 15:45:05.077 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-11-26 15:45:05.078 +05:30 [INF] Hosting environment: Development
2024-11-26 15:45:05.079 +05:30 [INF] Content root path: D:\FunDo\FunDo
2024-11-26 15:45:05.515 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/index.html - null null
2024-11-26 15:45:05.668 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/index.html - 200 null text/html;charset=utf-8 162.1456ms
2024-11-26 15:45:05.673 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/_vs/browserLink - null null
2024-11-26 15:45:05.677 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2024-11-26 15:45:05.689 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 12.2316ms
2024-11-26 15:45:05.726 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 52.9516ms
2024-11-26 15:45:05.827 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/v1/swagger.json - null null
2024-11-26 15:45:05.904 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 76.4465ms
2024-11-26 15:45:12.249 +05:30 [INF] Request starting HTTP/1.1 PATCH https://localhost:5000/api/notes/trash/12?isTrash=false - null 0
2024-11-26 15:45:12.370 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.ToggleTrashNote (FunDooNotes)'
2024-11-26 15:45:12.403 +05:30 [INF] Route matched with {action = "ToggleTrashNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleTrashNote(Int32, Boolean) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 15:45:12.569 +05:30 [INF] Received request to toggle trash status for note with ID: 12
2024-11-26 15:45:12.571 +05:30 [INF] Initiating toggle of trash status for note with ID: 12 for user ID: 4
2024-11-26 15:45:14.077 +05:30 [INF] Executed DbCommand (58ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 15:45:14.216 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 15:45:14.306 +05:30 [INF] Note with ID: 12 trash status updated to false
2024-11-26 15:45:14.308 +05:30 [INF] Successfully toggled trash status for note with ID: 12
2024-11-26 15:45:14.320 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 15:45:14.331 +05:30 [INF] Executed action FunDo.Controllers.NoteController.ToggleTrashNote (FunDooNotes) in 1922.3122ms
2024-11-26 15:45:14.332 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.ToggleTrashNote (FunDooNotes)'
2024-11-26 15:45:14.340 +05:30 [INF] Request finished HTTP/1.1 PATCH https://localhost:5000/api/notes/trash/12?isTrash=false - 200 null application/json; charset=utf-8 2091.1345ms
2024-11-26 15:45:22.517 +05:30 [INF] Request starting HTTP/1.1 PATCH https://localhost:5000/api/notes/trash/12?isTrash=true - null 0
2024-11-26 15:45:22.521 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.ToggleTrashNote (FunDooNotes)'
2024-11-26 15:45:22.522 +05:30 [INF] Route matched with {action = "ToggleTrashNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleTrashNote(Int32, Boolean) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 15:45:22.524 +05:30 [INF] Received request to toggle trash status for note with ID: 12
2024-11-26 15:45:22.525 +05:30 [INF] Initiating toggle of trash status for note with ID: 12 for user ID: 4
2024-11-26 15:45:22.540 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 15:45:22.543 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 15:45:22.606 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Notes] SET [IsTrash] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-11-26 15:45:22.617 +05:30 [INF] Note with ID: 12 trash status updated to true
2024-11-26 15:45:22.617 +05:30 [INF] Successfully toggled trash status for note with ID: 12
2024-11-26 15:45:22.618 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 15:45:22.619 +05:30 [INF] Executed action FunDo.Controllers.NoteController.ToggleTrashNote (FunDooNotes) in 96.1314ms
2024-11-26 15:45:22.619 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.ToggleTrashNote (FunDooNotes)'
2024-11-26 15:45:22.620 +05:30 [INF] Request finished HTTP/1.1 PATCH https://localhost:5000/api/notes/trash/12?isTrash=true - 200 null application/json; charset=utf-8 103.7691ms
2024-11-26 15:51:29.953 +05:30 [INF] User profile is available. Using 'C:\Users\Shreesha_MS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-26 15:51:30.094 +05:30 [INF] Now listening on: https://localhost:5000
2024-11-26 15:51:30.095 +05:30 [INF] Now listening on: http://localhost:5001
2024-11-26 15:51:30.125 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-11-26 15:51:30.128 +05:30 [INF] Hosting environment: Development
2024-11-26 15:51:30.128 +05:30 [INF] Content root path: D:\FunDo\FunDo
2024-11-26 15:51:30.802 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/index.html - null null
2024-11-26 15:51:30.926 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/index.html - 200 null text/html;charset=utf-8 132.4176ms
2024-11-26 15:51:30.932 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2024-11-26 15:51:30.932 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/_vs/browserLink - null null
2024-11-26 15:51:30.939 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 7.8653ms
2024-11-26 15:51:30.965 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.572ms
2024-11-26 15:51:31.014 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/v1/swagger.json - null null
2024-11-26 15:51:31.085 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 71.2387ms
2024-11-26 15:52:01.590 +05:30 [INF] Request starting HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12 - application/json 4
2024-11-26 15:52:01.704 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 15:52:01.744 +05:30 [INF] Route matched with {action = "ToggleArchiveNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleArchiveNote(Int32, Boolean) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 15:52:01.890 +05:30 [INF] Received request to toggle archive status for note with ID: 12
2024-11-26 15:52:01.892 +05:30 [INF] Initiating toggle of archive status for note with ID: 12 for user ID: 4
2024-11-26 15:52:03.149 +05:30 [INF] Executed DbCommand (44ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 15:52:03.277 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 15:52:03.371 +05:30 [INF] Note with ID: 12 archive status updated to false
2024-11-26 15:52:03.372 +05:30 [INF] Successfully toggled archive status for note with ID: 12
2024-11-26 15:52:03.381 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 15:52:03.390 +05:30 [INF] Executed action FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes) in 1642.5203ms
2024-11-26 15:52:03.392 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 15:52:03.404 +05:30 [INF] Request finished HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12 - 200 null application/json; charset=utf-8 1814.6216ms
2024-11-26 15:54:43.832 +05:30 [INF] Request starting HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12 - application/json 5
2024-11-26 15:54:43.843 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26-11-2024 10:17:22', Current time (UTC): '26-11-2024 10:24:43'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-11-26 15:54:43.858 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-26 15:54:43.923 +05:30 [ERR] An unhandled exception has occurred.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at DataLayer.Exceptions.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\FunDo\DataLayer\Exceptions\GlobalExceptionHandlingMiddleware.cs:line 25
2024-11-26 15:54:43.975 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Headers are read-only, response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at DataLayer.Exceptions.GlobalExceptionHandlingMiddleware.HandleExceptionAsync(HttpContext context, Exception exception) in D:\FunDo\DataLayer\Exceptions\GlobalExceptionHandlingMiddleware.cs:line 36
   at DataLayer.Exceptions.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\FunDo\DataLayer\Exceptions\GlobalExceptionHandlingMiddleware.cs:line 29
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-26 15:54:43.978 +05:30 [WRN] The response has already started, the error page middleware will not be executed.
2024-11-26 15:54:43.981 +05:30 [ERR] Connection id "0HN8E0GC3K9N2", Request id "0HN8E0GC3K9N2:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: Headers are read-only, response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at DataLayer.Exceptions.GlobalExceptionHandlingMiddleware.HandleExceptionAsync(HttpContext context, Exception exception) in D:\FunDo\DataLayer\Exceptions\GlobalExceptionHandlingMiddleware.cs:line 36
   at DataLayer.Exceptions.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\FunDo\DataLayer\Exceptions\GlobalExceptionHandlingMiddleware.cs:line 29
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2024-11-26 15:54:43.996 +05:30 [INF] Request finished HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12 - 401 null application/json 164.4354ms
2024-11-26 15:55:06.157 +05:30 [INF] Request starting HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12 - application/json 5
2024-11-26 15:55:06.162 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 15:55:06.163 +05:30 [INF] Route matched with {action = "ToggleArchiveNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleArchiveNote(Int32, Boolean) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 15:55:06.165 +05:30 [INF] Received request to toggle archive status for note with ID: 12
2024-11-26 15:55:06.166 +05:30 [INF] Initiating toggle of archive status for note with ID: 12 for user ID: 4
2024-11-26 15:55:06.181 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 15:55:06.184 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 15:55:06.186 +05:30 [INF] Note with ID: 12 archive status updated to false
2024-11-26 15:55:06.187 +05:30 [INF] Successfully toggled archive status for note with ID: 12
2024-11-26 15:55:06.187 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 15:55:06.188 +05:30 [INF] Executed action FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes) in 24.3515ms
2024-11-26 15:55:06.189 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 15:55:06.190 +05:30 [INF] Request finished HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12 - 200 null application/json; charset=utf-8 33.2499ms
2024-11-26 15:55:15.433 +05:30 [INF] Request starting HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12 - application/json 4
2024-11-26 15:55:15.435 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 15:55:15.436 +05:30 [INF] Route matched with {action = "ToggleArchiveNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleArchiveNote(Int32, Boolean) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 15:55:15.439 +05:30 [INF] Received request to toggle archive status for note with ID: 12
2024-11-26 15:55:15.440 +05:30 [INF] Initiating toggle of archive status for note with ID: 12 for user ID: 4
2024-11-26 15:55:15.483 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 15:55:15.486 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 15:55:15.488 +05:30 [INF] Note with ID: 12 archive status updated to false
2024-11-26 15:55:15.488 +05:30 [INF] Successfully toggled archive status for note with ID: 12
2024-11-26 15:55:15.489 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 15:55:15.489 +05:30 [INF] Executed action FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes) in 52.503ms
2024-11-26 15:55:15.490 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 15:55:15.490 +05:30 [INF] Request finished HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12 - 200 null application/json; charset=utf-8 57.3526ms
2024-11-26 15:56:35.223 +05:30 [INF] Request starting HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12 - application/json 27
2024-11-26 15:56:35.226 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 15:56:35.226 +05:30 [INF] Route matched with {action = "ToggleArchiveNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleArchiveNote(Int32, Boolean) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 15:56:35.228 +05:30 [INF] Received request to toggle archive status for note with ID: 12
2024-11-26 15:56:35.229 +05:30 [INF] Initiating toggle of archive status for note with ID: 12 for user ID: 4
2024-11-26 15:56:35.232 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 15:56:35.238 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 15:56:35.240 +05:30 [INF] Note with ID: 12 archive status updated to false
2024-11-26 15:56:35.241 +05:30 [INF] Successfully toggled archive status for note with ID: 12
2024-11-26 15:56:35.241 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 15:56:35.243 +05:30 [INF] Executed action FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes) in 14.9672ms
2024-11-26 15:56:35.243 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 15:56:35.244 +05:30 [INF] Request finished HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12 - 200 null application/json; charset=utf-8 21.7789ms
2024-11-26 15:56:38.438 +05:30 [INF] Request starting HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12 - application/json 27
2024-11-26 15:56:38.439 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 15:56:38.440 +05:30 [INF] Route matched with {action = "ToggleArchiveNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleArchiveNote(Int32, Boolean) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 15:56:38.441 +05:30 [INF] Received request to toggle archive status for note with ID: 12
2024-11-26 15:56:38.442 +05:30 [INF] Initiating toggle of archive status for note with ID: 12 for user ID: 4
2024-11-26 15:56:38.446 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 15:56:38.450 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 15:56:38.454 +05:30 [INF] Note with ID: 12 archive status updated to false
2024-11-26 15:56:38.454 +05:30 [INF] Successfully toggled archive status for note with ID: 12
2024-11-26 15:56:38.455 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 15:56:38.456 +05:30 [INF] Executed action FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes) in 15.3613ms
2024-11-26 15:56:38.457 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 15:56:38.458 +05:30 [INF] Request finished HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12 - 200 null application/json; charset=utf-8 20.3515ms
2024-11-26 15:57:17.917 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/index.html - null null
2024-11-26 15:57:17.937 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/index.html - 200 null text/html;charset=utf-8 20.5338ms
2024-11-26 15:57:17.949 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2024-11-26 15:57:17.949 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/_vs/browserLink - null null
2024-11-26 15:57:17.953 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 3.5016ms
2024-11-26 15:57:17.967 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.3563ms
2024-11-26 15:57:18.035 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/v1/swagger.json - null null
2024-11-26 15:57:18.040 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/favicon-32x32.png - null null
2024-11-26 15:57:18.047 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.9176ms
2024-11-26 15:57:18.053 +05:30 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-11-26 15:57:18.053 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/favicon-32x32.png - 200 628 image/png 13.3017ms
2024-11-26 15:57:26.534 +05:30 [INF] Request starting HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12 - application/json 4
2024-11-26 15:57:26.536 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 15:57:26.540 +05:30 [INF] Route matched with {action = "ToggleArchiveNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleArchiveNote(Int32, Boolean) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 15:57:26.542 +05:30 [INF] Received request to toggle archive status for note with ID: 12
2024-11-26 15:57:26.542 +05:30 [INF] Initiating toggle of archive status for note with ID: 12 for user ID: 4
2024-11-26 15:57:26.546 +05:30 [INF] Received isArchive value: False
2024-11-26 15:57:26.552 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 15:57:26.557 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 15:57:26.559 +05:30 [INF] Note with ID: 12 archive status updated to false
2024-11-26 15:57:26.560 +05:30 [INF] Successfully toggled archive status for note with ID: 12
2024-11-26 15:57:26.561 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 15:57:26.563 +05:30 [INF] Executed action FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes) in 22.2713ms
2024-11-26 15:57:26.564 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 15:57:26.566 +05:30 [INF] Request finished HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12 - 200 null application/json; charset=utf-8 32.0531ms
2024-11-26 15:59:31.973 +05:30 [INF] Request starting HTTP/1.1 PATCH https://localhost:5000/api/notes/trash/12?isTrash=true - null 0
2024-11-26 15:59:31.976 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.ToggleTrashNote (FunDooNotes)'
2024-11-26 15:59:31.979 +05:30 [INF] Route matched with {action = "ToggleTrashNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleTrashNote(Int32, Boolean) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 15:59:31.984 +05:30 [INF] Received request to toggle trash status for note with ID: 12
2024-11-26 15:59:31.986 +05:30 [INF] Initiating toggle of trash status for note with ID: 12 for user ID: 4
2024-11-26 15:59:31.994 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 15:59:31.997 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 15:59:31.999 +05:30 [INF] Note with ID: 12 trash status updated to true
2024-11-26 15:59:32.000 +05:30 [INF] Successfully toggled trash status for note with ID: 12
2024-11-26 15:59:32.000 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 15:59:32.001 +05:30 [INF] Executed action FunDo.Controllers.NoteController.ToggleTrashNote (FunDooNotes) in 20.9036ms
2024-11-26 15:59:32.002 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.ToggleTrashNote (FunDooNotes)'
2024-11-26 15:59:32.002 +05:30 [INF] Request finished HTTP/1.1 PATCH https://localhost:5000/api/notes/trash/12?isTrash=true - 200 null application/json; charset=utf-8 29.3368ms
2024-11-26 15:59:39.254 +05:30 [INF] Request starting HTTP/1.1 PATCH https://localhost:5000/api/notes/trash/12?isTrash=false - null 0
2024-11-26 15:59:39.255 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.ToggleTrashNote (FunDooNotes)'
2024-11-26 15:59:39.256 +05:30 [INF] Route matched with {action = "ToggleTrashNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleTrashNote(Int32, Boolean) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 15:59:39.258 +05:30 [INF] Received request to toggle trash status for note with ID: 12
2024-11-26 15:59:39.258 +05:30 [INF] Initiating toggle of trash status for note with ID: 12 for user ID: 4
2024-11-26 15:59:39.261 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 15:59:39.263 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 15:59:39.324 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Notes] SET [IsTrash] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-11-26 15:59:39.334 +05:30 [INF] Note with ID: 12 trash status updated to false
2024-11-26 15:59:39.335 +05:30 [INF] Successfully toggled trash status for note with ID: 12
2024-11-26 15:59:39.335 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 15:59:39.337 +05:30 [INF] Executed action FunDo.Controllers.NoteController.ToggleTrashNote (FunDooNotes) in 79.5783ms
2024-11-26 15:59:39.338 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.ToggleTrashNote (FunDooNotes)'
2024-11-26 15:59:39.339 +05:30 [INF] Request finished HTTP/1.1 PATCH https://localhost:5000/api/notes/trash/12?isTrash=false - 200 null application/json; charset=utf-8 84.5454ms
2024-11-26 16:00:33.845 +05:30 [INF] User profile is available. Using 'C:\Users\Shreesha_MS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-26 16:00:33.992 +05:30 [INF] Now listening on: https://localhost:5000
2024-11-26 16:00:33.992 +05:30 [INF] Now listening on: http://localhost:5001
2024-11-26 16:00:34.023 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-11-26 16:00:34.024 +05:30 [INF] Hosting environment: Development
2024-11-26 16:00:34.024 +05:30 [INF] Content root path: D:\FunDo\FunDo
2024-11-26 16:00:34.237 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/index.html - null null
2024-11-26 16:00:34.369 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/index.html - 200 null text/html;charset=utf-8 140.7208ms
2024-11-26 16:00:34.373 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/_vs/browserLink - null null
2024-11-26 16:00:34.374 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2024-11-26 16:00:34.382 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 8.1438ms
2024-11-26 16:00:34.407 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.6887ms
2024-11-26 16:00:34.442 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/v1/swagger.json - null null
2024-11-26 16:00:34.515 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 73.3291ms
2024-11-26 16:00:39.452 +05:30 [INF] Request starting HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12?isArchive=true - null 0
2024-11-26 16:00:39.549 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 16:00:39.571 +05:30 [INF] Route matched with {action = "ToggleArchiveNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleArchiveNote(Int32, Boolean) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 16:00:39.686 +05:30 [INF] Received request to toggle archive status for note with ID: 12
2024-11-26 16:00:39.687 +05:30 [INF] Initiating toggle of archive status for note with ID: 12 for user ID: 4
2024-11-26 16:00:39.689 +05:30 [INF] Received isArchive value: True
2024-11-26 16:00:41.229 +05:30 [INF] Executed DbCommand (92ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 16:00:41.364 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 16:00:41.608 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Notes] SET [IsArchive] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-11-26 16:00:41.620 +05:30 [INF] Note with ID: 12 archive status updated to true
2024-11-26 16:00:41.621 +05:30 [INF] Successfully toggled archive status for note with ID: 12
2024-11-26 16:00:41.632 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 16:00:41.642 +05:30 [INF] Executed action FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes) in 2064.2559ms
2024-11-26 16:00:41.647 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 16:00:41.653 +05:30 [INF] Request finished HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12?isArchive=true - 200 null application/json; charset=utf-8 2201.7582ms
2024-11-26 16:01:51.133 +05:30 [INF] Request starting HTTP/1.1 DELETE https://localhost:5000/api/notes/13 - null null
2024-11-26 16:01:51.141 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-26 16:01:51.149 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-26 16:01:51.150 +05:30 [INF] Request finished HTTP/1.1 DELETE https://localhost:5000/api/notes/13 - 401 null application/json 16.9122ms
2024-11-26 16:01:59.536 +05:30 [INF] Request starting HTTP/1.1 DELETE https://localhost:5000/api/notes/13 - null null
2024-11-26 16:01:59.543 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.DeleteNote (FunDooNotes)'
2024-11-26 16:01:59.550 +05:30 [INF] Route matched with {action = "DeleteNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteNote(Int32) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 16:01:59.553 +05:30 [INF] Received request to delete note with ID: 13
2024-11-26 16:01:59.554 +05:30 [INF] Initiating deletion of note with ID: 13 for user ID: 4
2024-11-26 16:01:59.576 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 16:01:59.582 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 16:01:59.616 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Notes]
OUTPUT 1
WHERE [Id] = @p0;
2024-11-26 16:01:59.621 +05:30 [INF] Deleted note with 13 successfully
2024-11-26 16:01:59.653 +05:30 [INF] Successfully deleted note with ID: 13
2024-11-26 16:01:59.654 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 16:01:59.657 +05:30 [INF] Executed action FunDo.Controllers.NoteController.DeleteNote (FunDooNotes) in 105.8921ms
2024-11-26 16:01:59.658 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.DeleteNote (FunDooNotes)'
2024-11-26 16:01:59.659 +05:30 [INF] Request finished HTTP/1.1 DELETE https://localhost:5000/api/notes/13 - 200 null application/json; charset=utf-8 123.3523ms
2024-11-26 16:02:07.429 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/notes/13 - null null
2024-11-26 16:02:07.433 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.GetNotesById (FunDooNotes)'
2024-11-26 16:02:07.435 +05:30 [INF] Route matched with {action = "GetNotesById", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNotesById(Int32) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 16:02:07.440 +05:30 [INF] Started retrieving notes by Id
2024-11-26 16:02:07.441 +05:30 [INF] Attempting to retrieve note with ID: 13 for user ID: 4
2024-11-26 16:02:07.442 +05:30 [INF] Checking if user with ID: 4 exists
2024-11-26 16:02:07.495 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 16:02:07.497 +05:30 [INF] Retrieving note with ID: 13
2024-11-26 16:02:07.499 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 16:02:07.500 +05:30 [WRN] Note with ID: 13 not found
2024-11-26 16:02:07.501 +05:30 [ERR] Failed to get notes
2024-11-26 16:02:07.504 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Models.ApiResponse`1[[Models.DTOs.NoteResponseDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-26 16:02:07.506 +05:30 [INF] Executed action FunDo.Controllers.NoteController.GetNotesById (FunDooNotes) in 69.7237ms
2024-11-26 16:02:07.507 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.GetNotesById (FunDooNotes)'
2024-11-26 16:02:07.507 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/notes/13 - 400 null application/json; charset=utf-8 78.0804ms
2024-11-26 16:24:22.497 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/collaborators/ - null null
2024-11-26 16:24:22.519 +05:30 [INF] Failed to validate the token.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.Text.Json.JsonReaderException: '0x00' is invalid within a JSON string. The string should be correctly escaped. LineNumber: 0 | BytePositionInLine: 25.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.ConsumeStringAndValidate(ReadOnlySpan`1 data, Int32 idx)
   at System.Text.Json.Utf8JsonReader.ConsumeString()
   at System.Text.Json.Utf8JsonReader.ConsumeValue(Byte marker)
   at System.Text.Json.Utf8JsonReader.ReadSingleSegment()
   at System.Text.Json.Utf8JsonReader.Read()
   at Microsoft.IdentityModel.Tokens.Json.JsonSerializerPrimitives.IsReaderPositionedOnNull(Utf8JsonReader& reader, Boolean read, Boolean advanceReader)
   at Microsoft.IdentityModel.Tokens.Json.JsonSerializerPrimitives.ReadString(Utf8JsonReader& reader, String propertyName, String className, Boolean read)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateHeaderClaimSet(ReadOnlySpan`1 byteSpan)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2024-11-26 16:24:22.549 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/collaborators/ - 401 null application/json 54.8358ms
2024-11-26 16:24:22.554 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5000/api/collaborators/, Response status code: 401
2024-11-26 16:24:33.365 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:5000/api/user/login - application/json 62
2024-11-26 16:24:33.372 +05:30 [INF] Executing endpoint 'FunDo.Controllers.UserController.LoginUser (FunDooNotes)'
2024-11-26 16:24:33.382 +05:30 [INF] Route matched with {action = "LoginUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(Models.DTOs.LoginUserDto) on controller FunDo.Controllers.UserController (FunDooNotes).
2024-11-26 16:24:33.416 +05:30 [INF] Logging user Joey@gmail.com
2024-11-26 16:24:33.423 +05:30 [INF] Checking if the user present
2024-11-26 16:24:33.428 +05:30 [INF] Attempting to retrieve user with Email: Joey@gmail.com
2024-11-26 16:24:33.476 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2024-11-26 16:24:33.507 +05:30 [INF] User with Email: Joey@gmail.com retrieved successfully.
2024-11-26 16:24:33.511 +05:30 [INF] Verifying the password
2024-11-26 16:24:34.224 +05:30 [INF] Password is valid and token is generated
2024-11-26 16:24:34.227 +05:30 [INF] Login successful
2024-11-26 16:24:34.231 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[Models.DTOs.LoginResponseDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-26 16:24:34.238 +05:30 [INF] Executed action FunDo.Controllers.UserController.LoginUser (FunDooNotes) in 852.8063ms
2024-11-26 16:24:34.240 +05:30 [INF] Executed endpoint 'FunDo.Controllers.UserController.LoginUser (FunDooNotes)'
2024-11-26 16:24:34.246 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:5000/api/user/login - 200 null application/json; charset=utf-8 880.2661ms
2024-11-26 16:25:30.361 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:5000/api/collaborators/13 - null 0
2024-11-26 16:25:30.369 +05:30 [INF] Executing endpoint 'FunDo.Controllers.CollaboratorController.AddCollaborator (FunDooNotes)'
2024-11-26 16:25:30.377 +05:30 [INF] Route matched with {action = "AddCollaborator", controller = "Collaborator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCollaborator(Int32, System.String) on controller FunDo.Controllers.CollaboratorController (FunDooNotes).
2024-11-26 16:25:30.397 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-11-26 16:25:30.427 +05:30 [INF] Executed action FunDo.Controllers.CollaboratorController.AddCollaborator (FunDooNotes) in 42.0702ms
2024-11-26 16:25:30.431 +05:30 [INF] Executed endpoint 'FunDo.Controllers.CollaboratorController.AddCollaborator (FunDooNotes)'
2024-11-26 16:25:30.435 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:5000/api/collaborators/13 - 415 null application/problem+json; charset=utf-8 73.4694ms
2024-11-26 16:26:48.405 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:5000/api/collaborators/13 - application/json 34
2024-11-26 16:26:48.409 +05:30 [INF] Executing endpoint 'FunDo.Controllers.CollaboratorController.AddCollaborator (FunDooNotes)'
2024-11-26 16:26:48.411 +05:30 [INF] Route matched with {action = "AddCollaborator", controller = "Collaborator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCollaborator(Int32, System.String) on controller FunDo.Controllers.CollaboratorController (FunDooNotes).
2024-11-26 16:26:48.430 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-26 16:26:48.441 +05:30 [INF] Executed action FunDo.Controllers.CollaboratorController.AddCollaborator (FunDooNotes) in 24.049ms
2024-11-26 16:26:48.443 +05:30 [INF] Executed endpoint 'FunDo.Controllers.CollaboratorController.AddCollaborator (FunDooNotes)'
2024-11-26 16:26:48.445 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:5000/api/collaborators/13 - 400 null application/problem+json; charset=utf-8 39.6956ms
2024-11-26 16:27:04.153 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:5000/api/collaborators/13 - application/json 32
2024-11-26 16:27:04.160 +05:30 [INF] Executing endpoint 'FunDo.Controllers.CollaboratorController.AddCollaborator (FunDooNotes)'
2024-11-26 16:27:04.164 +05:30 [INF] Route matched with {action = "AddCollaborator", controller = "Collaborator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCollaborator(Int32, System.String) on controller FunDo.Controllers.CollaboratorController (FunDooNotes).
2024-11-26 16:27:04.172 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-26 16:27:04.179 +05:30 [INF] Executed action FunDo.Controllers.CollaboratorController.AddCollaborator (FunDooNotes) in 12.2912ms
2024-11-26 16:27:04.180 +05:30 [INF] Executed endpoint 'FunDo.Controllers.CollaboratorController.AddCollaborator (FunDooNotes)'
2024-11-26 16:27:04.182 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:5000/api/collaborators/13 - 400 null application/problem+json; charset=utf-8 29.288ms
2024-11-26 16:27:24.025 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:5000/api/collaborators/13 - application/json 24
2024-11-26 16:27:24.030 +05:30 [INF] Executing endpoint 'FunDo.Controllers.CollaboratorController.AddCollaborator (FunDooNotes)'
2024-11-26 16:27:24.031 +05:30 [INF] Route matched with {action = "AddCollaborator", controller = "Collaborator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCollaborator(Int32, System.String) on controller FunDo.Controllers.CollaboratorController (FunDooNotes).
2024-11-26 16:27:24.037 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-26 16:27:24.039 +05:30 [INF] Executed action FunDo.Controllers.CollaboratorController.AddCollaborator (FunDooNotes) in 4.4057ms
2024-11-26 16:27:24.041 +05:30 [INF] Executed endpoint 'FunDo.Controllers.CollaboratorController.AddCollaborator (FunDooNotes)'
2024-11-26 16:27:24.045 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:5000/api/collaborators/13 - 400 null application/problem+json; charset=utf-8 20.2371ms
2024-11-26 16:27:30.261 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:5000/api/collaborators/12 - application/json 24
2024-11-26 16:27:30.266 +05:30 [INF] Executing endpoint 'FunDo.Controllers.CollaboratorController.AddCollaborator (FunDooNotes)'
2024-11-26 16:27:30.270 +05:30 [INF] Route matched with {action = "AddCollaborator", controller = "Collaborator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCollaborator(Int32, System.String) on controller FunDo.Controllers.CollaboratorController (FunDooNotes).
2024-11-26 16:27:30.278 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-11-26 16:27:30.282 +05:30 [INF] Executed action FunDo.Controllers.CollaboratorController.AddCollaborator (FunDooNotes) in 7.0213ms
2024-11-26 16:27:30.284 +05:30 [INF] Executed endpoint 'FunDo.Controllers.CollaboratorController.AddCollaborator (FunDooNotes)'
2024-11-26 16:27:30.287 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:5000/api/collaborators/12 - 400 null application/problem+json; charset=utf-8 25.9212ms
2024-11-26 16:28:15.729 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:5000/api/collaborators/12 - application/json 26
2024-11-26 16:28:15.738 +05:30 [INF] Executing endpoint 'FunDo.Controllers.CollaboratorController.AddCollaborator (FunDooNotes)'
2024-11-26 16:28:15.742 +05:30 [INF] Route matched with {action = "AddCollaborator", controller = "Collaborator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCollaborator(Int32, System.String) on controller FunDo.Controllers.CollaboratorController (FunDooNotes).
2024-11-26 16:28:15.750 +05:30 [INF] Attempting to add collaborator with email: shreesha2002ms@gmail.com to note with ID: 12
2024-11-26 16:28:15.755 +05:30 [INF] Attempting to add collaborator with email: shreesha2002ms@gmail.com to note with ID: 12 by user with ID: 4
2024-11-26 16:28:15.769 +05:30 [INF] Received request to add collaborator to note with ID: 12 by user ID: 4
2024-11-26 16:28:15.781 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 16:28:15.792 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 16:28:15.803 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2024-11-26 16:28:15.827 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__collabUser_Id_0='?' (DbType = Int32), @__noteId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Collaborators] AS [c]
        WHERE [c].[UserId] = @__collabUser_Id_0 AND [c].[NoteId] = @__noteId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 16:28:15.922 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Collaborators] ([NoteId], [UserId])
VALUES (@p0, @p1);
2024-11-26 16:28:15.926 +05:30 [INF] Successfully added user with email: shreesha2002ms@gmail.com as a collaborator to note with ID: 12
2024-11-26 16:28:15.929 +05:30 [INF] Successfully added collaborator with email: shreesha2002ms@gmail.com to note with ID: 12
2024-11-26 16:28:15.932 +05:30 [INF] Successfully added collaborator with email: shreesha2002ms@gmail.com to note with ID: 12
2024-11-26 16:28:15.937 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[Models.DTOs.UserDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-26 16:28:15.943 +05:30 [INF] Executed action FunDo.Controllers.CollaboratorController.AddCollaborator (FunDooNotes) in 197.212ms
2024-11-26 16:28:15.944 +05:30 [INF] Executed endpoint 'FunDo.Controllers.CollaboratorController.AddCollaborator (FunDooNotes)'
2024-11-26 16:28:15.946 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:5000/api/collaborators/12 - 200 null application/json; charset=utf-8 217.1699ms
2024-11-26 16:33:44.638 +05:30 [INF] User profile is available. Using 'C:\Users\Shreesha_MS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-26 16:33:44.883 +05:30 [INF] Now listening on: https://localhost:5000
2024-11-26 16:33:44.886 +05:30 [INF] Now listening on: http://localhost:5001
2024-11-26 16:33:44.934 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-11-26 16:33:44.939 +05:30 [INF] Hosting environment: Development
2024-11-26 16:33:44.942 +05:30 [INF] Content root path: D:\FunDo\FunDo
2024-11-26 16:33:45.472 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/index.html - null null
2024-11-26 16:33:45.672 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/index.html - 200 null text/html;charset=utf-8 209.1738ms
2024-11-26 16:33:45.681 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2024-11-26 16:33:45.685 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/_vs/browserLink - null null
2024-11-26 16:33:45.694 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 12.907ms
2024-11-26 16:33:45.724 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.1002ms
2024-11-26 16:33:45.764 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/v1/swagger.json - null null
2024-11-26 16:33:45.863 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 99.288ms
2024-11-26 16:34:07.530 +05:30 [INF] Request starting HTTP/2 PATCH https://localhost:5000/api/notes/archive/12 - application/json 4
2024-11-26 16:34:07.687 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-26 16:34:07.702 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-26 16:34:07.705 +05:30 [INF] Request finished HTTP/2 PATCH https://localhost:5000/api/notes/archive/12 - 401 null application/json 174.8472ms
2024-11-26 16:34:25.954 +05:30 [INF] Request starting HTTP/2 POST https://localhost:5000/api/user/login - application/json 57
2024-11-26 16:34:25.979 +05:30 [INF] Executing endpoint 'FunDo.Controllers.UserController.LoginUser (FunDooNotes)'
2024-11-26 16:34:26.035 +05:30 [INF] Route matched with {action = "LoginUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(Models.DTOs.LoginUserDto) on controller FunDo.Controllers.UserController (FunDooNotes).
2024-11-26 16:34:26.358 +05:30 [INF] Logging user Joey@gmail.com
2024-11-26 16:34:26.361 +05:30 [INF] Checking if the user present
2024-11-26 16:34:26.365 +05:30 [INF] Attempting to retrieve user with Email: Joey@gmail.com
2024-11-26 16:34:28.882 +05:30 [INF] Executed DbCommand (106ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2024-11-26 16:34:29.026 +05:30 [INF] User with Email: Joey@gmail.com retrieved successfully.
2024-11-26 16:34:29.030 +05:30 [INF] Verifying the password
2024-11-26 16:34:29.993 +05:30 [INF] Password is valid and token is generated
2024-11-26 16:34:29.998 +05:30 [INF] Login successful
2024-11-26 16:34:30.012 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[Models.DTOs.LoginResponseDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-26 16:34:30.030 +05:30 [INF] Executed action FunDo.Controllers.UserController.LoginUser (FunDooNotes) in 3983.0316ms
2024-11-26 16:34:30.033 +05:30 [INF] Executed endpoint 'FunDo.Controllers.UserController.LoginUser (FunDooNotes)'
2024-11-26 16:34:30.050 +05:30 [INF] Request finished HTTP/2 POST https://localhost:5000/api/user/login - 200 null application/json; charset=utf-8 4096.2155ms
2024-11-26 16:34:50.251 +05:30 [INF] Request starting HTTP/2 PATCH https://localhost:5000/api/notes/archive/12 - application/json 4
2024-11-26 16:34:50.357 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 16:34:50.369 +05:30 [INF] Route matched with {action = "ToggleArchiveNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleArchiveNote(Int32, Boolean) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 16:34:50.393 +05:30 [INF] Received request to toggle archive status for note with ID: 12
2024-11-26 16:34:50.398 +05:30 [INF] Initiating toggle of archive status for note with ID: 12 for user ID: 4
2024-11-26 16:34:50.405 +05:30 [INF] Received isArchive value: True
2024-11-26 16:34:50.478 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 16:34:50.554 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 16:34:50.633 +05:30 [INF] Note with ID: 12 archive status updated to true
2024-11-26 16:34:50.636 +05:30 [INF] Successfully toggled archive status for note with ID: 12
2024-11-26 16:34:50.641 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 16:34:50.649 +05:30 [INF] Executed action FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes) in 272.8208ms
2024-11-26 16:34:50.653 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 16:34:50.657 +05:30 [INF] Request finished HTTP/2 PATCH https://localhost:5000/api/notes/archive/12 - 200 null application/json; charset=utf-8 406.8151ms
2024-11-26 16:35:08.669 +05:30 [INF] Request starting HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12 - application/json 4
2024-11-26 16:35:08.676 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 16:35:08.683 +05:30 [INF] Route matched with {action = "ToggleArchiveNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleArchiveNote(Int32, Boolean) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 16:35:08.691 +05:30 [INF] Received request to toggle archive status for note with ID: 12
2024-11-26 16:35:08.694 +05:30 [INF] Initiating toggle of archive status for note with ID: 12 for user ID: 4
2024-11-26 16:35:08.696 +05:30 [INF] Received isArchive value: True
2024-11-26 16:35:08.815 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 16:35:08.824 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 16:35:08.832 +05:30 [INF] Note with ID: 12 archive status updated to true
2024-11-26 16:35:08.833 +05:30 [INF] Successfully toggled archive status for note with ID: 12
2024-11-26 16:35:08.834 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 16:35:08.838 +05:30 [INF] Executed action FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes) in 150.9943ms
2024-11-26 16:35:08.840 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 16:35:08.842 +05:30 [INF] Request finished HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12 - 200 null application/json; charset=utf-8 173.8972ms
2024-11-26 16:35:16.955 +05:30 [INF] Request starting HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12 - application/json 5
2024-11-26 16:35:16.963 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 16:35:16.965 +05:30 [INF] Route matched with {action = "ToggleArchiveNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleArchiveNote(Int32, Boolean) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 16:35:16.975 +05:30 [INF] Received request to toggle archive status for note with ID: 12
2024-11-26 16:35:16.979 +05:30 [INF] Initiating toggle of archive status for note with ID: 12 for user ID: 4
2024-11-26 16:35:16.983 +05:30 [INF] Received isArchive value: False
2024-11-26 16:35:16.990 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 16:35:16.997 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 16:35:17.115 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Notes] SET [IsArchive] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-11-26 16:35:17.142 +05:30 [INF] Note with ID: 12 archive status updated to false
2024-11-26 16:35:17.148 +05:30 [INF] Successfully toggled archive status for note with ID: 12
2024-11-26 16:35:17.150 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 16:35:17.152 +05:30 [INF] Executed action FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes) in 183.3513ms
2024-11-26 16:35:17.155 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.ToggleArchiveNote (FunDooNotes)'
2024-11-26 16:35:17.158 +05:30 [INF] Request finished HTTP/1.1 PATCH https://localhost:5000/api/notes/archive/12 - 200 null application/json; charset=utf-8 203.7906ms
2024-11-26 16:35:40.496 +05:30 [INF] User profile is available. Using 'C:\Users\Shreesha_MS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-26 16:35:40.744 +05:30 [INF] Now listening on: https://localhost:5000
2024-11-26 16:35:40.746 +05:30 [INF] Now listening on: http://localhost:5001
2024-11-26 16:35:40.810 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-11-26 16:35:40.812 +05:30 [INF] Hosting environment: Development
2024-11-26 16:35:40.813 +05:30 [INF] Content root path: D:\FunDo\FunDo
2024-11-26 16:35:41.252 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/index.html - null null
2024-11-26 16:35:41.446 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/index.html - 200 null text/html;charset=utf-8 204.0701ms
2024-11-26 16:35:41.456 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/_framework/aspnetcore-browser-refresh.js - null null
2024-11-26 16:35:41.456 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/_vs/browserLink - null null
2024-11-26 16:35:41.466 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 10.0356ms
2024-11-26 16:35:41.506 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.1865ms
2024-11-26 16:35:41.543 +05:30 [INF] Request starting HTTP/2 GET https://localhost:5000/swagger/v1/swagger.json - null null
2024-11-26 16:35:41.658 +05:30 [INF] Request finished HTTP/2 GET https://localhost:5000/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 115.7439ms
2024-11-26 16:36:09.428 +05:30 [INF] Request starting HTTP/1.1 PATCH https://localhost:5000/api/notes/trash/12 - application/json 5
2024-11-26 16:36:09.718 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.ToggleTrashNote (FunDooNotes)'
2024-11-26 16:36:09.779 +05:30 [INF] Route matched with {action = "ToggleTrashNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleTrashNote(Int32, Boolean) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 16:36:10.112 +05:30 [INF] Received request to toggle trash status for note with ID: 12
2024-11-26 16:36:10.118 +05:30 [INF] Initiating toggle of trash status for note with ID: 12 for user ID: 4
2024-11-26 16:36:12.595 +05:30 [INF] Executed DbCommand (94ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 16:36:12.798 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 16:36:12.960 +05:30 [INF] Note with ID: 12 trash status updated to false
2024-11-26 16:36:12.966 +05:30 [INF] Successfully toggled trash status for note with ID: 12
2024-11-26 16:36:12.986 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 16:36:13.001 +05:30 [INF] Executed action FunDo.Controllers.NoteController.ToggleTrashNote (FunDooNotes) in 3208.7867ms
2024-11-26 16:36:13.008 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.ToggleTrashNote (FunDooNotes)'
2024-11-26 16:36:13.027 +05:30 [INF] Request finished HTTP/1.1 PATCH https://localhost:5000/api/notes/trash/12 - 200 null application/json; charset=utf-8 3598.9423ms
2024-11-26 16:36:22.243 +05:30 [INF] Request starting HTTP/1.1 PATCH https://localhost:5000/api/notes/trash/12 - application/json 4
2024-11-26 16:36:22.259 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.ToggleTrashNote (FunDooNotes)'
2024-11-26 16:36:22.261 +05:30 [INF] Route matched with {action = "ToggleTrashNote", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ToggleTrashNote(Int32, Boolean) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 16:36:22.268 +05:30 [INF] Received request to toggle trash status for note with ID: 12
2024-11-26 16:36:22.270 +05:30 [INF] Initiating toggle of trash status for note with ID: 12 for user ID: 4
2024-11-26 16:36:22.309 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 16:36:22.318 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 16:36:22.433 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Notes] SET [IsTrash] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-11-26 16:36:22.460 +05:30 [INF] Note with ID: 12 trash status updated to true
2024-11-26 16:36:22.461 +05:30 [INF] Successfully toggled trash status for note with ID: 12
2024-11-26 16:36:22.464 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 16:36:22.467 +05:30 [INF] Executed action FunDo.Controllers.NoteController.ToggleTrashNote (FunDooNotes) in 203.0535ms
2024-11-26 16:36:22.471 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.ToggleTrashNote (FunDooNotes)'
2024-11-26 16:36:22.474 +05:30 [INF] Request finished HTTP/1.1 PATCH https://localhost:5000/api/notes/trash/12 - 200 null application/json; charset=utf-8 231.5919ms
2024-11-26 16:36:35.059 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/notes/12 - null null
2024-11-26 16:36:35.078 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26-11-2024 10:17:22', Current time (UTC): '26-11-2024 11:06:35'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-11-26 16:36:35.099 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-26 16:36:35.193 +05:30 [ERR] An unhandled exception has occurred.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at DataLayer.Exceptions.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\FunDo\DataLayer\Exceptions\GlobalExceptionHandlingMiddleware.cs:line 25
2024-11-26 16:36:35.309 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Headers are read-only, response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at DataLayer.Exceptions.GlobalExceptionHandlingMiddleware.HandleExceptionAsync(HttpContext context, Exception exception) in D:\FunDo\DataLayer\Exceptions\GlobalExceptionHandlingMiddleware.cs:line 36
   at DataLayer.Exceptions.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\FunDo\DataLayer\Exceptions\GlobalExceptionHandlingMiddleware.cs:line 29
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-26 16:36:35.321 +05:30 [WRN] The response has already started, the error page middleware will not be executed.
2024-11-26 16:36:35.324 +05:30 [ERR] Connection id "0HN8E191V0TSM", Request id "0HN8E191V0TSM:00000003": An unhandled exception was thrown by the application.
System.InvalidOperationException: Headers are read-only, response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)
   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)
   at DataLayer.Exceptions.GlobalExceptionHandlingMiddleware.HandleExceptionAsync(HttpContext context, Exception exception) in D:\FunDo\DataLayer\Exceptions\GlobalExceptionHandlingMiddleware.cs:line 36
   at DataLayer.Exceptions.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in D:\FunDo\DataLayer\Exceptions\GlobalExceptionHandlingMiddleware.cs:line 29
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2024-11-26 16:36:35.335 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/notes/12 - 401 null application/json 276.2527ms
2024-11-26 16:37:13.266 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/notes/12 - null null
2024-11-26 16:37:13.273 +05:30 [INF] Executing endpoint 'FunDo.Controllers.NoteController.GetNotesById (FunDooNotes)'
2024-11-26 16:37:13.277 +05:30 [INF] Route matched with {action = "GetNotesById", controller = "Note"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNotesById(Int32) on controller FunDo.Controllers.NoteController (FunDooNotes).
2024-11-26 16:37:13.283 +05:30 [INF] Started retrieving notes by Id
2024-11-26 16:37:13.286 +05:30 [INF] Attempting to retrieve note with ID: 12 for user ID: 4
2024-11-26 16:37:13.291 +05:30 [INF] Checking if user with ID: 4 exists
2024-11-26 16:37:13.354 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 16:37:13.364 +05:30 [INF] Retrieving note with ID: 12
2024-11-26 16:37:13.370 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 16:37:13.377 +05:30 [INF] Note with ID: 12 retrieved successfully
2024-11-26 16:37:13.379 +05:30 [INF] Retrieved notes successfully
2024-11-26 16:37:13.379 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[Models.DTOs.NoteResponseDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-26 16:37:13.384 +05:30 [INF] Executed action FunDo.Controllers.NoteController.GetNotesById (FunDooNotes) in 105.2011ms
2024-11-26 16:37:13.385 +05:30 [INF] Executed endpoint 'FunDo.Controllers.NoteController.GetNotesById (FunDooNotes)'
2024-11-26 16:37:13.386 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/notes/12 - 200 null application/json; charset=utf-8 120.347ms
2024-11-26 16:38:13.803 +05:30 [INF] Request starting HTTP/1.1 DELETE https://localhost:5000/api/collaborators/12 - application/json 26
2024-11-26 16:38:13.810 +05:30 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-11-26 16:38:13.811 +05:30 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-11-26 16:38:13.816 +05:30 [INF] Request finished HTTP/1.1 DELETE https://localhost:5000/api/collaborators/12 - 405 0 null 12.785ms
2024-11-26 16:38:38.513 +05:30 [INF] Request starting HTTP/1.1 DELETE https://localhost:5000/api/collaborators/12/shreesha2002ms@gmail.com - null null
2024-11-26 16:38:38.522 +05:30 [INF] Executing endpoint 'FunDo.Controllers.CollaboratorController.DeleteCollaborator (FunDooNotes)'
2024-11-26 16:38:38.534 +05:30 [INF] Route matched with {action = "DeleteCollaborator", controller = "Collaborator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteCollaborator(Int32, System.String) on controller FunDo.Controllers.CollaboratorController (FunDooNotes).
2024-11-26 16:38:38.549 +05:30 [INF] Attempting to delete collaborator with email: shreesha2002ms@gmail.com from note with ID: 12
2024-11-26 16:38:38.554 +05:30 [INF] Attempting to delete collaborator with email: shreesha2002ms@gmail.com from note with ID: 12 by user with ID: 4
2024-11-26 16:38:38.567 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 16:38:38.579 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 16:38:38.595 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2024-11-26 16:38:38.637 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__noteId_0='?' (DbType = Int32), @__collaboratorToDelete_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[UserId], [c].[NoteId]
FROM [Collaborators] AS [c]
WHERE [c].[NoteId] = @__noteId_0 AND [c].[UserId] = @__collaboratorToDelete_Id_1
2024-11-26 16:38:38.699 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Collaborators]
OUTPUT 1
WHERE [NoteId] = @p0 AND [UserId] = @p1;
2024-11-26 16:38:38.718 +05:30 [INF] Collaborator with email: shreesha2002ms@gmail.com removed from note with ID: 12
2024-11-26 16:38:38.722 +05:30 [INF] Successfully deleted collaborator with email: shreesha2002ms@gmail.com from note with ID: 12
2024-11-26 16:38:38.724 +05:30 [INF] Successfully deleted collaborator with email: shreesha2002ms@gmail.com from note with ID: 12
2024-11-26 16:38:38.726 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 16:38:38.729 +05:30 [INF] Executed action FunDo.Controllers.CollaboratorController.DeleteCollaborator (FunDooNotes) in 190.5026ms
2024-11-26 16:38:38.731 +05:30 [INF] Executed endpoint 'FunDo.Controllers.CollaboratorController.DeleteCollaborator (FunDooNotes)'
2024-11-26 16:38:38.733 +05:30 [INF] Request finished HTTP/1.1 DELETE https://localhost:5000/api/collaborators/12/shreesha2002ms@gmail.com - 200 null application/json; charset=utf-8 220.0561ms
2024-11-26 16:40:46.010 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:5000/api/collaborators/12 - application/json 26
2024-11-26 16:40:46.016 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-26 16:40:46.023 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-26 16:40:46.026 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:5000/api/collaborators/12 - 401 null application/json 15.394ms
2024-11-26 16:41:08.177 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:5000/api/collaborators/12 - application/json 26
2024-11-26 16:41:08.187 +05:30 [INF] Executing endpoint 'FunDo.Controllers.CollaboratorController.AddCollaborator (FunDooNotes)'
2024-11-26 16:41:08.199 +05:30 [INF] Route matched with {action = "AddCollaborator", controller = "Collaborator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCollaborator(Int32, System.String) on controller FunDo.Controllers.CollaboratorController (FunDooNotes).
2024-11-26 16:41:08.212 +05:30 [INF] Attempting to add collaborator with email: shreesha2002ms@gmail.com to note with ID: 12
2024-11-26 16:41:08.215 +05:30 [INF] Attempting to add collaborator with email: shreesha2002ms@gmail.com to note with ID: 12 by user with ID: 4
2024-11-26 16:41:08.219 +05:30 [INF] Received request to add collaborator to note with ID: 12 by user ID: 4
2024-11-26 16:41:08.228 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 16:41:08.233 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 16:41:08.238 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2024-11-26 16:41:08.248 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__collabUser_Id_0='?' (DbType = Int32), @__noteId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Collaborators] AS [c]
        WHERE [c].[UserId] = @__collabUser_Id_0 AND [c].[NoteId] = @__noteId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 16:41:08.271 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Collaborators] ([NoteId], [UserId])
VALUES (@p0, @p1);
2024-11-26 16:41:08.281 +05:30 [INF] Successfully added user with email: shreesha2002ms@gmail.com as a collaborator to note with ID: 12
2024-11-26 16:41:08.285 +05:30 [INF] Successfully added collaborator with email: shreesha2002ms@gmail.com to note with ID: 12
2024-11-26 16:41:08.291 +05:30 [INF] Successfully added collaborator with email: shreesha2002ms@gmail.com to note with ID: 12
2024-11-26 16:41:08.296 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[Models.DTOs.UserDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-26 16:41:08.302 +05:30 [INF] Executed action FunDo.Controllers.CollaboratorController.AddCollaborator (FunDooNotes) in 98.1761ms
2024-11-26 16:41:08.304 +05:30 [INF] Executed endpoint 'FunDo.Controllers.CollaboratorController.AddCollaborator (FunDooNotes)'
2024-11-26 16:41:08.305 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:5000/api/collaborators/12 - 200 null application/json; charset=utf-8 128.4344ms
2024-11-26 16:41:51.052 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/collaborators/12 - null null
2024-11-26 16:41:51.058 +05:30 [INF] Executing endpoint 'FunDo.Controllers.CollaboratorController.GetCollaborators (FunDooNotes)'
2024-11-26 16:41:51.065 +05:30 [INF] Route matched with {action = "GetCollaborators", controller = "Collaborator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCollaborators(Int32) on controller FunDo.Controllers.CollaboratorController (FunDooNotes).
2024-11-26 16:41:51.072 +05:30 [INF] Attempting to get collaborators for note with ID: 12
2024-11-26 16:41:51.076 +05:30 [INF] Attempting to retrieve collaborators for note with ID: 12 by user with ID: 4
2024-11-26 16:41:51.090 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__ownerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__ownerId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 16:41:51.098 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 16:41:51.155 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__NoteId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[Name]
FROM [Collaborators] AS [c]
INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
WHERE [c].[NoteId] = @__NoteId_0
2024-11-26 16:41:51.164 +05:30 [INF] Successfully retrieved collaborators for note with ID: 12
2024-11-26 16:41:51.168 +05:30 [INF] Successfully retrieved collaborators for note with ID: 12
2024-11-26 16:41:51.171 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Models.DTOs.UserDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 16:41:51.176 +05:30 [INF] Executed action FunDo.Controllers.CollaboratorController.GetCollaborators (FunDooNotes) in 107.6111ms
2024-11-26 16:41:51.177 +05:30 [INF] Executed endpoint 'FunDo.Controllers.CollaboratorController.GetCollaborators (FunDooNotes)'
2024-11-26 16:41:51.179 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/collaborators/12 - 200 null application/json; charset=utf-8 126.3154ms
2024-11-26 16:42:07.755 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/collaborators/12 - null null
2024-11-26 16:42:07.760 +05:30 [INF] Executing endpoint 'FunDo.Controllers.CollaboratorController.GetCollaborators (FunDooNotes)'
2024-11-26 16:42:07.760 +05:30 [INF] Route matched with {action = "GetCollaborators", controller = "Collaborator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCollaborators(Int32) on controller FunDo.Controllers.CollaboratorController (FunDooNotes).
2024-11-26 16:42:07.762 +05:30 [INF] Attempting to get collaborators for note with ID: 12
2024-11-26 16:42:07.762 +05:30 [INF] Attempting to retrieve collaborators for note with ID: 12 by user with ID: 4
2024-11-26 16:42:07.767 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__ownerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__ownerId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 16:42:07.773 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 16:42:07.777 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__NoteId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[Name]
FROM [Collaborators] AS [c]
INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
WHERE [c].[NoteId] = @__NoteId_0
2024-11-26 16:42:07.779 +05:30 [INF] Successfully retrieved collaborators for note with ID: 12
2024-11-26 16:42:07.779 +05:30 [INF] Successfully retrieved collaborators for note with ID: 12
2024-11-26 16:42:07.780 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Models.DTOs.UserDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 16:42:07.781 +05:30 [INF] Executed action FunDo.Controllers.CollaboratorController.GetCollaborators (FunDooNotes) in 19.397ms
2024-11-26 16:42:07.782 +05:30 [INF] Executed endpoint 'FunDo.Controllers.CollaboratorController.GetCollaborators (FunDooNotes)'
2024-11-26 16:42:07.783 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/collaborators/12 - 200 null application/json; charset=utf-8 28.8453ms
2024-11-26 16:42:24.704 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/collaborators/12 - null null
2024-11-26 16:42:24.717 +05:30 [INF] Executing endpoint 'FunDo.Controllers.CollaboratorController.GetCollaborators (FunDooNotes)'
2024-11-26 16:42:24.718 +05:30 [INF] Route matched with {action = "GetCollaborators", controller = "Collaborator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCollaborators(Int32) on controller FunDo.Controllers.CollaboratorController (FunDooNotes).
2024-11-26 16:42:24.719 +05:30 [INF] Attempting to get collaborators for note with ID: 12
2024-11-26 16:42:24.720 +05:30 [INF] Attempting to retrieve collaborators for note with ID: 12 by user with ID: 4
2024-11-26 16:42:24.728 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__ownerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__ownerId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 16:42:24.744 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 16:42:24.755 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__NoteId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[Name]
FROM [Collaborators] AS [c]
INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
WHERE [c].[NoteId] = @__NoteId_0
2024-11-26 16:42:24.759 +05:30 [INF] Successfully retrieved collaborators for note with ID: 12
2024-11-26 16:42:24.760 +05:30 [INF] Successfully retrieved collaborators for note with ID: 12
2024-11-26 16:42:24.761 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Models.DTOs.UserDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 16:42:24.762 +05:30 [INF] Executed action FunDo.Controllers.CollaboratorController.GetCollaborators (FunDooNotes) in 43.495ms
2024-11-26 16:42:24.763 +05:30 [INF] Executed endpoint 'FunDo.Controllers.CollaboratorController.GetCollaborators (FunDooNotes)'
2024-11-26 16:42:24.764 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/collaborators/12 - 200 null application/json; charset=utf-8 61.734ms
2024-11-26 16:44:10.221 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/collaborators/12 - null null
2024-11-26 16:44:10.233 +05:30 [INF] Executing endpoint 'FunDo.Controllers.CollaboratorController.GetCollaborators (FunDooNotes)'
2024-11-26 16:44:10.237 +05:30 [INF] Route matched with {action = "GetCollaborators", controller = "Collaborator"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCollaborators(Int32) on controller FunDo.Controllers.CollaboratorController (FunDooNotes).
2024-11-26 16:44:10.245 +05:30 [INF] Attempting to get collaborators for note with ID: 12
2024-11-26 16:44:10.245 +05:30 [INF] Attempting to retrieve collaborators for note with ID: 12 by user with ID: 4
2024-11-26 16:44:10.254 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__ownerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__ownerId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 16:44:10.260 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
FROM [Notes] AS [n]
WHERE [n].[Id] = @__p_0
2024-11-26 16:44:10.267 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__NoteId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Email], [u].[Name]
FROM [Collaborators] AS [c]
INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
WHERE [c].[NoteId] = @__NoteId_0
2024-11-26 16:44:10.269 +05:30 [INF] Successfully retrieved collaborators for note with ID: 12
2024-11-26 16:44:10.269 +05:30 [INF] Successfully retrieved collaborators for note with ID: 12
2024-11-26 16:44:10.269 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Models.DTOs.UserDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 16:44:10.271 +05:30 [INF] Executed action FunDo.Controllers.CollaboratorController.GetCollaborators (FunDooNotes) in 26.5114ms
2024-11-26 16:44:10.272 +05:30 [INF] Executed endpoint 'FunDo.Controllers.CollaboratorController.GetCollaborators (FunDooNotes)'
2024-11-26 16:44:10.273 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/collaborators/12 - 200 null application/json; charset=utf-8 52.0324ms
2024-11-26 16:48:38.603 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:5000/api/labels - application/json 23
2024-11-26 16:48:38.607 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-26 16:48:38.607 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-26 16:48:38.608 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:5000/api/labels - 401 null application/json 4.7127ms
2024-11-26 16:48:53.148 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:5000/api/user/login - application/json 62
2024-11-26 16:48:53.152 +05:30 [INF] Executing endpoint 'FunDo.Controllers.UserController.LoginUser (FunDooNotes)'
2024-11-26 16:48:53.156 +05:30 [INF] Route matched with {action = "LoginUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(Models.DTOs.LoginUserDto) on controller FunDo.Controllers.UserController (FunDooNotes).
2024-11-26 16:48:53.168 +05:30 [INF] Logging user Joey@gmail.com
2024-11-26 16:48:53.170 +05:30 [INF] Checking if the user present
2024-11-26 16:48:53.173 +05:30 [INF] Attempting to retrieve user with Email: Joey@gmail.com
2024-11-26 16:48:53.193 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Name], [u].[Password], [u].[Phone]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2024-11-26 16:48:53.197 +05:30 [INF] User with Email: Joey@gmail.com retrieved successfully.
2024-11-26 16:48:53.198 +05:30 [INF] Verifying the password
2024-11-26 16:48:53.477 +05:30 [INF] Password is valid and token is generated
2024-11-26 16:48:53.479 +05:30 [INF] Login successful
2024-11-26 16:48:53.482 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[Models.DTOs.LoginResponseDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-26 16:48:53.487 +05:30 [INF] Executed action FunDo.Controllers.UserController.LoginUser (FunDooNotes) in 328.8197ms
2024-11-26 16:48:53.491 +05:30 [INF] Executed endpoint 'FunDo.Controllers.UserController.LoginUser (FunDooNotes)'
2024-11-26 16:48:53.494 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:5000/api/user/login - 200 null application/json; charset=utf-8 346.3303ms
2024-11-26 16:49:09.802 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:5000/api/labels - application/json 23
2024-11-26 16:49:09.808 +05:30 [INF] Executing endpoint 'FunDo.Controllers.LabelController.AddLabels (FunDooNotes)'
2024-11-26 16:49:09.813 +05:30 [INF] Route matched with {action = "AddLabels", controller = "Label"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddLabels(Models.DTOs.LabelRequestDto) on controller FunDo.Controllers.LabelController (FunDooNotes).
2024-11-26 16:49:09.819 +05:30 [INF] Attempting to add labels
2024-11-26 16:49:09.823 +05:30 [INF] Adding label to database.
2024-11-26 16:49:09.829 +05:30 [INF] Attempting to add label with name: work
2024-11-26 16:49:09.850 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__labeldto_Name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Labels] AS [l]
        WHERE [l].[Name] = @__labeldto_Name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 16:49:09.855 +05:30 [WRN] Label with name work already exists
2024-11-26 16:49:09.857 +05:30 [WRN] Failed to add label: Label already exists
2024-11-26 16:49:09.857 +05:30 [ERR] Failed to add labels: Label already exists
2024-11-26 16:49:09.859 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Models.ApiResponse`1[[Models.DTOs.LabelDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-26 16:49:09.860 +05:30 [INF] Executed action FunDo.Controllers.LabelController.AddLabels (FunDooNotes) in 44.1434ms
2024-11-26 16:49:09.861 +05:30 [INF] Executed endpoint 'FunDo.Controllers.LabelController.AddLabels (FunDooNotes)'
2024-11-26 16:49:09.863 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:5000/api/labels - 400 null application/json; charset=utf-8 60.5931ms
2024-11-26 16:49:19.052 +05:30 [INF] Request starting HTTP/1.1 POST https://localhost:5000/api/labels - application/json 25
2024-11-26 16:49:19.058 +05:30 [INF] Executing endpoint 'FunDo.Controllers.LabelController.AddLabels (FunDooNotes)'
2024-11-26 16:49:19.059 +05:30 [INF] Route matched with {action = "AddLabels", controller = "Label"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddLabels(Models.DTOs.LabelRequestDto) on controller FunDo.Controllers.LabelController (FunDooNotes).
2024-11-26 16:49:19.061 +05:30 [INF] Attempting to add labels
2024-11-26 16:49:19.061 +05:30 [INF] Adding label to database.
2024-11-26 16:49:19.062 +05:30 [INF] Attempting to add label with name: school
2024-11-26 16:49:19.066 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__labeldto_Name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Labels] AS [l]
        WHERE [l].[Name] = @__labeldto_Name_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-11-26 16:49:19.112 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Labels] ([Name])
OUTPUT INSERTED.[Id]
VALUES (@p0);
2024-11-26 16:49:19.133 +05:30 [INF] Successfully added label with ID: 4
2024-11-26 16:49:19.137 +05:30 [INF] Successfully added label with ID: 4
2024-11-26 16:49:19.141 +05:30 [INF] Labels added successfully
2024-11-26 16:49:19.142 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[Models.DTOs.LabelDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-11-26 16:49:19.143 +05:30 [INF] Executed action FunDo.Controllers.LabelController.AddLabels (FunDooNotes) in 83.8264ms
2024-11-26 16:49:19.145 +05:30 [INF] Executed endpoint 'FunDo.Controllers.LabelController.AddLabels (FunDooNotes)'
2024-11-26 16:49:19.146 +05:30 [INF] Request finished HTTP/1.1 POST https://localhost:5000/api/labels - 200 null application/json; charset=utf-8 93.7779ms
2024-11-26 16:50:31.210 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/labels - null null
2024-11-26 16:50:31.214 +05:30 [INF] Executing endpoint 'FunDo.Controllers.LabelController.GetAllLabels (FunDooNotes)'
2024-11-26 16:50:31.218 +05:30 [INF] Route matched with {action = "GetAllLabels", controller = "Label"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllLabels() on controller FunDo.Controllers.LabelController (FunDooNotes).
2024-11-26 16:50:31.230 +05:30 [INF] Retrieving all labels
2024-11-26 16:50:31.236 +05:30 [INF] Retrieving all labels from database.
2024-11-26 16:50:31.242 +05:30 [INF] Retrieving all labels from the database.
2024-11-26 16:50:31.255 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Name]
FROM [Labels] AS [l]
2024-11-26 16:50:31.264 +05:30 [INF] Successfully retrieved all labels from the database.
2024-11-26 16:50:31.265 +05:30 [INF] Retrieved 4 labels.
2024-11-26 16:50:31.266 +05:30 [INF] All labels retrieved successfully
2024-11-26 16:50:31.267 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Models.DTOs.LabelDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 16:50:31.269 +05:30 [INF] Executed action FunDo.Controllers.LabelController.GetAllLabels (FunDooNotes) in 41.3607ms
2024-11-26 16:50:31.270 +05:30 [INF] Executed endpoint 'FunDo.Controllers.LabelController.GetAllLabels (FunDooNotes)'
2024-11-26 16:50:31.271 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/labels - 200 null application/json; charset=utf-8 62.6184ms
2024-11-26 16:51:58.318 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/labels/labels-checklist/12 - null null
2024-11-26 16:51:58.332 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-26 16:51:58.337 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-26 16:51:58.341 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/labels/labels-checklist/12 - 401 null application/json 22.3857ms
2024-11-26 16:52:04.426 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/labels/labels-checklist/12 - null null
2024-11-26 16:52:04.430 +05:30 [INF] Executing endpoint 'FunDo.Controllers.LabelController.GetLabelsChecklist (FunDooNotes)'
2024-11-26 16:52:04.439 +05:30 [INF] Route matched with {action = "GetLabelsChecklist", controller = "Label"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLabelsChecklist(Int32) on controller FunDo.Controllers.LabelController (FunDooNotes).
2024-11-26 16:52:04.448 +05:30 [INF] Retrieving label checklist for Note ID: 12
2024-11-26 16:52:04.455 +05:30 [INF] Getting label checklist for note with ID: 12
2024-11-26 16:52:04.460 +05:30 [INF] Retrieving all labels from the database.
2024-11-26 16:52:04.470 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Name]
FROM [Labels] AS [l]
2024-11-26 16:52:04.477 +05:30 [INF] Successfully retrieved all labels from the database.
2024-11-26 16:52:04.482 +05:30 [INF] Retrieving labels for Note ID: 12 by User ID: 4
2024-11-26 16:52:04.534 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-11-26 16:52:04.552 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__noteId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Color], [t].[Description], [t].[IsArchive], [t].[IsTrash], [t].[Title], [t].[UserId], [c].[UserId], [c].[NoteId], [n0].[NoteId], [n0].[LabelId]
FROM (
    SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
    FROM [Notes] AS [n]
    WHERE [n].[Id] = @__noteId_0
) AS [t]
LEFT JOIN [Collaborators] AS [c] ON [t].[Id] = [c].[NoteId]
LEFT JOIN [NoteLabels] AS [n0] ON [t].[Id] = [n0].[NoteId]
ORDER BY [t].[Id], [c].[UserId], [c].[NoteId], [n0].[NoteId]
2024-11-26 16:52:04.571 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__noteId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[LabelId]
FROM [NoteLabels] AS [n]
WHERE [n].[NoteId] = @__noteId_0
2024-11-26 16:52:04.576 +05:30 [INF] Successfully retrieved labels for Note ID: 12
2024-11-26 16:52:04.577 +05:30 [INF] Retrieved label checklist for note ID: 12
2024-11-26 16:52:04.579 +05:30 [INF] Label checklist retrieved successfully for Note ID: 12
2024-11-26 16:52:04.581 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Models.DTOs.LabelCheckListDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 16:52:04.586 +05:30 [INF] Executed action FunDo.Controllers.LabelController.GetLabelsChecklist (FunDooNotes) in 139.0475ms
2024-11-26 16:52:04.587 +05:30 [INF] Executed endpoint 'FunDo.Controllers.LabelController.GetLabelsChecklist (FunDooNotes)'
2024-11-26 16:52:04.588 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/labels/labels-checklist/12 - 200 null application/json; charset=utf-8 162.5669ms
2024-11-26 16:53:59.592 +05:30 [INF] Request starting HTTP/1.1 PATCH https://localhost:5000/api/labels/12 - application/json 5
2024-11-26 16:53:59.603 +05:30 [INF] Executing endpoint 'FunDo.Controllers.LabelController.UpdateLabels (FunDooNotes)'
2024-11-26 16:53:59.609 +05:30 [INF] Route matched with {action = "UpdateLabels", controller = "Label"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateLabels(Int32, System.Collections.Generic.List`1[System.Int32]) on controller FunDo.Controllers.LabelController (FunDooNotes).
2024-11-26 16:53:59.618 +05:30 [INF] Attempting to update labels for Note ID: 12
2024-11-26 16:53:59.620 +05:30 [INF] Updating labels for note with ID: 12
2024-11-26 16:53:59.625 +05:30 [INF] Updating labels for Note ID: 12 by User ID: 4
2024-11-26 16:53:59.635 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__noteId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Color], [t].[Description], [t].[IsArchive], [t].[IsTrash], [t].[Title], [t].[UserId], [c].[UserId], [c].[NoteId], [n0].[NoteId], [n0].[LabelId]
FROM (
    SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
    FROM [Notes] AS [n]
    WHERE [n].[Id] = @__noteId_0
) AS [t]
LEFT JOIN [Collaborators] AS [c] ON [t].[Id] = [c].[NoteId]
LEFT JOIN [NoteLabels] AS [n0] ON [t].[Id] = [n0].[NoteId]
ORDER BY [t].[Id], [c].[UserId], [c].[NoteId], [n0].[NoteId]
2024-11-26 16:53:59.723 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__LabelIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Name]
FROM [Labels] AS [l]
WHERE [l].[Id] IN (
    SELECT [l0].[value]
    FROM OPENJSON(@__LabelIds_0) WITH ([value] int '$') AS [l0]
)
2024-11-26 16:53:59.732 +05:30 [INF] Added label with ID: 2 to Note ID: 12
2024-11-26 16:53:59.736 +05:30 [INF] Added label with ID: 4 to Note ID: 12
2024-11-26 16:53:59.757 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [NoteLabels] ([LabelId], [NoteId])
VALUES (@p0, @p1),
(@p2, @p3);
2024-11-26 16:53:59.762 +05:30 [INF] Successfully updated labels for Note ID: 12
2024-11-26 16:53:59.764 +05:30 [INF] Labels updated successfully for Note ID: 12
2024-11-26 16:53:59.766 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 16:53:59.767 +05:30 [INF] Executed action FunDo.Controllers.LabelController.UpdateLabels (FunDooNotes) in 155.4743ms
2024-11-26 16:53:59.769 +05:30 [INF] Executed endpoint 'FunDo.Controllers.LabelController.UpdateLabels (FunDooNotes)'
2024-11-26 16:53:59.770 +05:30 [INF] Request finished HTTP/1.1 PATCH https://localhost:5000/api/labels/12 - 200 null application/json; charset=utf-8 181.4221ms
2024-11-26 16:54:06.727 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/labels/labels-checklist/12 - null null
2024-11-26 16:54:06.735 +05:30 [INF] Executing endpoint 'FunDo.Controllers.LabelController.GetLabelsChecklist (FunDooNotes)'
2024-11-26 16:54:06.735 +05:30 [INF] Route matched with {action = "GetLabelsChecklist", controller = "Label"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLabelsChecklist(Int32) on controller FunDo.Controllers.LabelController (FunDooNotes).
2024-11-26 16:54:06.738 +05:30 [INF] Retrieving label checklist for Note ID: 12
2024-11-26 16:54:06.739 +05:30 [INF] Getting label checklist for note with ID: 12
2024-11-26 16:54:06.740 +05:30 [INF] Retrieving all labels from the database.
2024-11-26 16:54:06.744 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Name]
FROM [Labels] AS [l]
2024-11-26 16:54:06.748 +05:30 [INF] Successfully retrieved all labels from the database.
2024-11-26 16:54:06.748 +05:30 [INF] Retrieving labels for Note ID: 12 by User ID: 4
2024-11-26 16:54:06.750 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__noteId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Color], [t].[Description], [t].[IsArchive], [t].[IsTrash], [t].[Title], [t].[UserId], [c].[UserId], [c].[NoteId], [n0].[NoteId], [n0].[LabelId]
FROM (
    SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
    FROM [Notes] AS [n]
    WHERE [n].[Id] = @__noteId_0
) AS [t]
LEFT JOIN [Collaborators] AS [c] ON [t].[Id] = [c].[NoteId]
LEFT JOIN [NoteLabels] AS [n0] ON [t].[Id] = [n0].[NoteId]
ORDER BY [t].[Id], [c].[UserId], [c].[NoteId], [n0].[NoteId]
2024-11-26 16:54:06.754 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__noteId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[LabelId]
FROM [NoteLabels] AS [n]
WHERE [n].[NoteId] = @__noteId_0
2024-11-26 16:54:06.757 +05:30 [INF] Successfully retrieved labels for Note ID: 12
2024-11-26 16:54:06.757 +05:30 [INF] Retrieved label checklist for note ID: 12
2024-11-26 16:54:06.757 +05:30 [INF] Label checklist retrieved successfully for Note ID: 12
2024-11-26 16:54:06.758 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Models.DTOs.LabelCheckListDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 16:54:06.759 +05:30 [INF] Executed action FunDo.Controllers.LabelController.GetLabelsChecklist (FunDooNotes) in 21.5914ms
2024-11-26 16:54:06.760 +05:30 [INF] Executed endpoint 'FunDo.Controllers.LabelController.GetLabelsChecklist (FunDooNotes)'
2024-11-26 16:54:06.760 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/labels/labels-checklist/12 - 200 null application/json; charset=utf-8 33.337ms
2024-11-26 16:54:41.356 +05:30 [INF] Request starting HTTP/1.1 PATCH https://localhost:5000/api/labels/12 - application/json 3
2024-11-26 16:54:41.363 +05:30 [INF] Executing endpoint 'FunDo.Controllers.LabelController.UpdateLabels (FunDooNotes)'
2024-11-26 16:54:41.367 +05:30 [INF] Route matched with {action = "UpdateLabels", controller = "Label"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateLabels(Int32, System.Collections.Generic.List`1[System.Int32]) on controller FunDo.Controllers.LabelController (FunDooNotes).
2024-11-26 16:54:41.374 +05:30 [INF] Attempting to update labels for Note ID: 12
2024-11-26 16:54:41.376 +05:30 [INF] Updating labels for note with ID: 12
2024-11-26 16:54:41.377 +05:30 [INF] Updating labels for Note ID: 12 by User ID: 4
2024-11-26 16:54:41.392 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__noteId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Color], [t].[Description], [t].[IsArchive], [t].[IsTrash], [t].[Title], [t].[UserId], [c].[UserId], [c].[NoteId], [n0].[NoteId], [n0].[LabelId]
FROM (
    SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
    FROM [Notes] AS [n]
    WHERE [n].[Id] = @__noteId_0
) AS [t]
LEFT JOIN [Collaborators] AS [c] ON [t].[Id] = [c].[NoteId]
LEFT JOIN [NoteLabels] AS [n0] ON [t].[Id] = [n0].[NoteId]
ORDER BY [t].[Id], [c].[UserId], [c].[NoteId], [n0].[NoteId]
2024-11-26 16:54:41.408 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__LabelIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Name]
FROM [Labels] AS [l]
WHERE [l].[Id] IN (
    SELECT [l0].[value]
    FROM OPENJSON(@__LabelIds_0) WITH ([value] int '$') AS [l0]
)
2024-11-26 16:54:41.421 +05:30 [INF] Removed label with ID: 4 from Note ID: 12
2024-11-26 16:54:41.434 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [NoteLabels]
OUTPUT 1
WHERE [LabelId] = @p0 AND [NoteId] = @p1;
2024-11-26 16:54:41.444 +05:30 [INF] Successfully updated labels for Note ID: 12
2024-11-26 16:54:41.447 +05:30 [INF] Labels updated successfully for Note ID: 12
2024-11-26 16:54:41.449 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 16:54:41.450 +05:30 [INF] Executed action FunDo.Controllers.LabelController.UpdateLabels (FunDooNotes) in 76.9316ms
2024-11-26 16:54:41.451 +05:30 [INF] Executed endpoint 'FunDo.Controllers.LabelController.UpdateLabels (FunDooNotes)'
2024-11-26 16:54:41.451 +05:30 [INF] Request finished HTTP/1.1 PATCH https://localhost:5000/api/labels/12 - 200 null application/json; charset=utf-8 95.8668ms
2024-11-26 16:54:54.897 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/labels/labels-checklist/12 - null null
2024-11-26 16:54:54.906 +05:30 [INF] Executing endpoint 'FunDo.Controllers.LabelController.GetLabelsChecklist (FunDooNotes)'
2024-11-26 16:54:54.912 +05:30 [INF] Route matched with {action = "GetLabelsChecklist", controller = "Label"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLabelsChecklist(Int32) on controller FunDo.Controllers.LabelController (FunDooNotes).
2024-11-26 16:54:54.918 +05:30 [INF] Retrieving label checklist for Note ID: 12
2024-11-26 16:54:54.919 +05:30 [INF] Getting label checklist for note with ID: 12
2024-11-26 16:54:54.920 +05:30 [INF] Retrieving all labels from the database.
2024-11-26 16:54:54.925 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Name]
FROM [Labels] AS [l]
2024-11-26 16:54:54.928 +05:30 [INF] Successfully retrieved all labels from the database.
2024-11-26 16:54:54.929 +05:30 [INF] Retrieving labels for Note ID: 12 by User ID: 4
2024-11-26 16:54:54.931 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__noteId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Color], [t].[Description], [t].[IsArchive], [t].[IsTrash], [t].[Title], [t].[UserId], [c].[UserId], [c].[NoteId], [n0].[NoteId], [n0].[LabelId]
FROM (
    SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
    FROM [Notes] AS [n]
    WHERE [n].[Id] = @__noteId_0
) AS [t]
LEFT JOIN [Collaborators] AS [c] ON [t].[Id] = [c].[NoteId]
LEFT JOIN [NoteLabels] AS [n0] ON [t].[Id] = [n0].[NoteId]
ORDER BY [t].[Id], [c].[UserId], [c].[NoteId], [n0].[NoteId]
2024-11-26 16:54:54.936 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__noteId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[LabelId]
FROM [NoteLabels] AS [n]
WHERE [n].[NoteId] = @__noteId_0
2024-11-26 16:54:54.938 +05:30 [INF] Successfully retrieved labels for Note ID: 12
2024-11-26 16:54:54.939 +05:30 [INF] Retrieved label checklist for note ID: 12
2024-11-26 16:54:54.939 +05:30 [INF] Label checklist retrieved successfully for Note ID: 12
2024-11-26 16:54:54.940 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Models.DTOs.LabelCheckListDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 16:54:54.941 +05:30 [INF] Executed action FunDo.Controllers.LabelController.GetLabelsChecklist (FunDooNotes) in 22.8802ms
2024-11-26 16:54:54.941 +05:30 [INF] Executed endpoint 'FunDo.Controllers.LabelController.GetLabelsChecklist (FunDooNotes)'
2024-11-26 16:54:54.942 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/labels/labels-checklist/12 - 200 null application/json; charset=utf-8 45.157ms
2024-11-26 16:56:34.465 +05:30 [INF] Request starting HTTP/1.1 DELETE https://localhost:5000/api/labels/2 - null null
2024-11-26 16:56:34.476 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-26 16:56:34.479 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-11-26 16:56:34.480 +05:30 [INF] Request finished HTTP/1.1 DELETE https://localhost:5000/api/labels/2 - 401 null application/json 14.9992ms
2024-11-26 16:56:42.357 +05:30 [INF] Request starting HTTP/1.1 DELETE https://localhost:5000/api/labels/2 - null null
2024-11-26 16:56:42.363 +05:30 [INF] Executing endpoint 'FunDo.Controllers.LabelController.DeleteLabel (FunDooNotes)'
2024-11-26 16:56:42.366 +05:30 [INF] Route matched with {action = "DeleteLabel", controller = "Label"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteLabel(Int32) on controller FunDo.Controllers.LabelController (FunDooNotes).
2024-11-26 16:56:42.369 +05:30 [INF] Attempting to delete label with ID: 2
2024-11-26 16:56:42.372 +05:30 [INF] Deleting label with ID: 2
2024-11-26 16:56:42.374 +05:30 [INF] Attempting to delete label with ID: 2
2024-11-26 16:56:42.384 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name]
FROM [Labels] AS [l]
WHERE [l].[Id] = @__p_0
2024-11-26 16:56:42.397 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Labels]
OUTPUT 1
WHERE [Id] = @p0;
2024-11-26 16:56:42.400 +05:30 [INF] Successfully deleted label with ID: 2
2024-11-26 16:56:42.401 +05:30 [INF] Successfully deleted label with ID: 2
2024-11-26 16:56:42.402 +05:30 [INF] Label deleted successfully with ID: 2
2024-11-26 16:56:42.403 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 16:56:42.404 +05:30 [INF] Executed action FunDo.Controllers.LabelController.DeleteLabel (FunDooNotes) in 36.2906ms
2024-11-26 16:56:42.405 +05:30 [INF] Executed endpoint 'FunDo.Controllers.LabelController.DeleteLabel (FunDooNotes)'
2024-11-26 16:56:42.405 +05:30 [INF] Request finished HTTP/1.1 DELETE https://localhost:5000/api/labels/2 - 200 null application/json; charset=utf-8 48.922ms
2024-11-26 16:56:51.967 +05:30 [INF] Request starting HTTP/1.1 GET https://localhost:5000/api/labels/labels-checklist/12 - null null
2024-11-26 16:56:51.973 +05:30 [INF] Executing endpoint 'FunDo.Controllers.LabelController.GetLabelsChecklist (FunDooNotes)'
2024-11-26 16:56:51.974 +05:30 [INF] Route matched with {action = "GetLabelsChecklist", controller = "Label"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLabelsChecklist(Int32) on controller FunDo.Controllers.LabelController (FunDooNotes).
2024-11-26 16:56:51.976 +05:30 [INF] Retrieving label checklist for Note ID: 12
2024-11-26 16:56:51.976 +05:30 [INF] Getting label checklist for note with ID: 12
2024-11-26 16:56:51.977 +05:30 [INF] Retrieving all labels from the database.
2024-11-26 16:56:51.981 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Name]
FROM [Labels] AS [l]
2024-11-26 16:56:51.984 +05:30 [INF] Successfully retrieved all labels from the database.
2024-11-26 16:56:51.985 +05:30 [INF] Retrieving labels for Note ID: 12 by User ID: 4
2024-11-26 16:56:51.992 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__noteId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Color], [t].[Description], [t].[IsArchive], [t].[IsTrash], [t].[Title], [t].[UserId], [c].[UserId], [c].[NoteId], [n0].[NoteId], [n0].[LabelId]
FROM (
    SELECT TOP(1) [n].[Id], [n].[Color], [n].[Description], [n].[IsArchive], [n].[IsTrash], [n].[Title], [n].[UserId]
    FROM [Notes] AS [n]
    WHERE [n].[Id] = @__noteId_0
) AS [t]
LEFT JOIN [Collaborators] AS [c] ON [t].[Id] = [c].[NoteId]
LEFT JOIN [NoteLabels] AS [n0] ON [t].[Id] = [n0].[NoteId]
ORDER BY [t].[Id], [c].[UserId], [c].[NoteId], [n0].[NoteId]
2024-11-26 16:56:51.996 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__noteId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[LabelId]
FROM [NoteLabels] AS [n]
WHERE [n].[NoteId] = @__noteId_0
2024-11-26 16:56:51.998 +05:30 [INF] Successfully retrieved labels for Note ID: 12
2024-11-26 16:56:51.999 +05:30 [INF] Retrieved label checklist for note ID: 12
2024-11-26 16:56:52.000 +05:30 [INF] Label checklist retrieved successfully for Note ID: 12
2024-11-26 16:56:52.000 +05:30 [INF] Executing OkObjectResult, writing value of type 'Models.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[Models.DTOs.LabelCheckListDto, Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-11-26 16:56:52.001 +05:30 [INF] Executed action FunDo.Controllers.LabelController.GetLabelsChecklist (FunDooNotes) in 25.5462ms
2024-11-26 16:56:52.002 +05:30 [INF] Executed endpoint 'FunDo.Controllers.LabelController.GetLabelsChecklist (FunDooNotes)'
2024-11-26 16:56:52.002 +05:30 [INF] Request finished HTTP/1.1 GET https://localhost:5000/api/labels/labels-checklist/12 - 200 null application/json; charset=utf-8 35.0713ms
